(this["webpackJsonpunstable-game"]=this["webpackJsonpunstable-game"]||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7996cac1b26fae126a7dd755e81b8bd5.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"79d6aa22a56ba0eefca5264ab19ec041.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"66e632a447f6d371ca2beffc4f63eea6.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"71b1c2271b686b9c8bd56c25ec9cc799.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"503550ede9d1120e68dc8e47ec724ea1.mp3"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c,a=n(0),s=n.n(a),o=n(8),r=n.n(o),i=(n(14),n(2));n(7),n(15);function u(e){return e>4.5?c.happy:e>2.5?c.ok:e>0?c.neutral:e>-2.5?c.sad:c.nightmare}!function(e){e.happy="happy",e.ok="ok",e.neutral="neutral",e.sad="sad",e.nightmare="nightmare"}(c||(c={}));var l=s.a.createContext({score:0,lampState:c.neutral,setScore:function(){}}),d=n(9),b=n(1),j={currentPhraseIndex:0,setNextPhrase:function(){},getQuestion:function(){return"string"},getAnswers:function(){return[]}},f=[{question:"Hey...I'm Greg the Lamp",used:!1,answers:[{text:"Hi, Greg",score:0},{text:"I'm not interested",score:-2},{text:"You look sad, Greg, wanna talk?",score:3},{text:"Wow, talking lamp, lol",score:-1}]}].concat(Object(d.a)([{question:"I feel lonely",used:!1,answers:[{text:"Hug",score:2},{text:"Ignore",score:-2},{text:"Everyone's lonely...",score:-1},{text:"I'm lonely too",score:1}]}].map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})))),m=s.a.createContext(j);function O(e){e.setGameOver;var t=e.children,n=Object(a.useState)(0),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(b.jsx)(m.Provider,{value:{currentPhraseIndex:s,setNextPhrase:function(){f[s].used=!0,s===f.length-1?o(0):o(s+1)},getQuestion:function(){var e;return(null===(e=f[s])||void 0===e?void 0:e.question)||"Game over"},getAnswers:function(){var e;return(null===(e=f[s])||void 0===e?void 0:e.answers)||[]}},children:t})}function p(){var e=Object(a.useContext)(l),t=e.score,n=e.setScore,c=Object(a.useContext)(m),s=c.getAnswers,o=c.setNextPhrase;return Object(b.jsxs)("div",{className:"Buttons",children:[Object(b.jsxs)("div",{className:"score",children:["Score: ",t]}),s().map((function(e){return Object(b.jsx)("div",{className:"btn btn--stripe",onClick:function(){return c=e.score,n(t+c),void o();var c},children:e.text},e.text)}))]})}var g=s.a.createContext({});function v(e){var t=e.children,n=e.setAllIsLoaded,c=Object(a.useState)(!1),s=Object(i.a)(c,2),o=s[0],r=s[1],u=Object(a.useState)(!1),l=Object(i.a)(u,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){setTimeout(n(o&&d),1e3)}),[o,d,n]),Object(b.jsx)(g.Provider,{value:{soundLoaded:r,imagesAreLoaded:j},children:t})}var x=n.p+"static/media/lamp.cf80ac2c.png",h=n.p+"static/media/light.59e00472.png",y=n.p+"static/media/medium_light.d3ef943c.png",S=n.p+"static/media/sad_lamp.d083bd5f.png",N=n.p+"static/media/sad_light.91eb97c4.png",C=(n(17),"lamp");function P(e,t){return Math.random()*(t-e)+e}function L(e){var t=document.getElementById(C);setTimeout((function(){null===t||void 0===t||t.style.setProperty("--brightness",P(70,120)+"%"),null===t||void 0===t||t.style.setProperty("--hue",P(0,180)+"deg"),null===t||void 0===t||t.style.setProperty("--saturate",P(70,120)+"%"),L(P(1e3,1e4))}),e)}function I(){var e=document.getElementById(C);null===e||void 0===e||e.style.setProperty("--opacity","0%"),setTimeout((function(){null===e||void 0===e||e.style.setProperty("--opacity","100%"),setTimeout((function(){I()}),P(1e3,1e4))}),P(100,200))}function k(){L(0),I();var e=Object(a.useContext)(l).score,t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),r=Object(i.a)(o,2),u=r[0],d=r[1],j=Object(a.useState)(!1),f=Object(i.a)(j,2),m=f[0],O=f[1],p=Object(a.useContext)(g).imagesAreLoaded,v=Object(a.useState)(0),P=Object(i.a)(v,2),k=P[0],E=P[1];Object(a.useEffect)((function(){O(!1),d(!1),s(!1),e>2?s(!0):e>-1?d(!0):O(!0)}),[e]);var w=function(){E(k+1),4===k&&p&&p(!0)};return Object(b.jsxs)("div",{id:C,children:[Object(b.jsx)("img",{className:"img light",style:{opacity:c?1:0},src:h,onLoad:w}),Object(b.jsx)("img",{className:"img light",style:{opacity:u?1:0},src:y,onLoad:w}),Object(b.jsx)("img",{className:"img lamp",style:{opacity:c||u?1:0},src:x,onLoad:w}),Object(b.jsx)("img",{className:"img light",style:{opacity:m?1:0},src:N,onLoad:w}),Object(b.jsx)("img",{className:"img lamp",style:{opacity:m?1:0},src:S,onLoad:w})]})}var E=n(3),w=n(18).default,A=n(19).default,G=n(20).default,B=n(21).default,F=n(22).default,T={loop:!0,soundEnabled:!0,volume:0};function q(e,t,n){n&&(n.playing()||n.play(),e===t?n.fade(n.volume(),.2,500):n.fade(n.volume(),0,500))}function H(e){var t=e.gameStarted,n=Object(a.useContext)(l),s=(n.score,n.lampState),o=Object(a.useContext)(g).soundLoaded,r=Object(E.a)(w,T),u=Object(i.a)(r,2)[1].sound,d=Object(E.a)(A,T),j=Object(i.a)(d,2)[1].sound,f=Object(E.a)(G,T),m=Object(i.a)(f,2)[1].sound,O=Object(E.a)(B,T),p=Object(i.a)(O,2)[1].sound,v=Object(E.a)(F,T),x=Object(i.a)(v,2)[1].sound,h=Object(a.useState)(null),y=Object(i.a)(h,2),S=y[0],N=y[1];return Object(a.useEffect)((function(){"loaded"===(null===m||void 0===m?void 0:m.state())&&"loaded"===(null===p||void 0===p?void 0:p.state())&&"loaded"===(null===u||void 0===u?void 0:u.state())&&"loaded"===(null===j||void 0===j?void 0:j.state())&&"loaded"===(null===x||void 0===x?void 0:x.state())&&o&&o(!0)}),[o,m,x,u,j,p]),Object(a.useEffect)((function(){t&&N(s)}),[s,t]),Object(a.useEffect)((function(){q(S,c.neutral,m),q(S,c.nightmare,u),q(S,c.sad,j),q(S,c.ok,p),q(S,c.happy,x)}),[S,m,x,p,j,u]),Object(b.jsx)(b.Fragment,{})}n(23);function M(){var e=Object(a.useContext)(l),t=(e.score,e.setScore,Object(a.useContext)(m).getQuestion);return Object(b.jsx)("div",{className:"speech-container",children:Object(b.jsx)("div",{className:"speech",children:t()})})}var Q=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),r=o[0],d=o[1],j=Object(a.useState)(0),f=Object(i.a)(j,2),m=f[0],g=f[1],x=Object(a.useState)(!1),h=Object(i.a)(x,2),y=h[0],S=h[1];return Object(a.useEffect)((function(){n&&d(!0)}),[n]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(v,{setAllIsLoaded:S,children:Object(b.jsx)(O,{setGameOver:function(){},children:Object(b.jsxs)(l.Provider,{value:{score:m,setScore:g,lampState:u(m)},children:[Object(b.jsx)(H,{gameStarted:n}),!y&&Object(b.jsx)("button",{className:"loading-btn btn--stripe btn",children:"Loading..."}),Object(b.jsxs)("div",{className:"Game",style:{opacity:y?1:0},children:[Object(b.jsx)(k,{}),r&&Object(b.jsx)(M,{}),!n&&Object(b.jsx)("button",{className:"btn--stripe start-btn btn",onClick:function(){c(!0)},children:"Play"})]}),r&&Object(b.jsx)(p,{})]})})})})},_=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};r.a.render(Object(b.jsxs)(s.a.StrictMode,{children:[Object(b.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Baloo+2:400,800",rel:"stylesheet"}),Object(b.jsx)("div",{className:"light bg"}),Object(b.jsx)(Q,{})]}),document.getElementById("root")),_()}],[[24,1,2]]]);
//# sourceMappingURL=main.1657f9ea.chunk.js.map