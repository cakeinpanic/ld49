(this["webpackJsonpunstable-game"]=this["webpackJsonpunstable-game"]||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7996cac1b26fae126a7dd755e81b8bd5.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"79d6aa22a56ba0eefca5264ab19ec041.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"66e632a447f6d371ca2beffc4f63eea6.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"71b1c2271b686b9c8bd56c25ec9cc799.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"503550ede9d1120e68dc8e47ec724ea1.mp3"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,s=n(0),c=n.n(s),o=n(8),r=n.n(o),i=(n(14),n(2));n(7),n(15);function u(e){return e>4.5?a.happy:e>2.5?a.ok:e>0?a.neutral:e>-2.5?a.sad:a.nightmare}!function(e){e.happy="happy",e.ok="ok",e.neutral="neutral",e.sad="sad",e.nightmare="nightmare"}(a||(a={}));var l=c.a.createContext({score:0,lampState:a.neutral,setScore:function(){}}),d=n(9),b=n(1),j={currentPhraseIndex:0,setNextPhrase:function(){},getQuestion:function(){return"string"},getAnswers:function(){return[]}},m=[{question:"Hey...I'm Greg the Lamp",used:!1,answers:[{text:"Hi, Greg",score:0},{text:"I'm not interested",score:-2},{text:"You look sad, Greg, wanna talk?",score:3},{text:"Wow, talking lamp, lol",score:-1}]}].concat(Object(d.a)([{question:"I feel lonely",used:!1,answers:[{text:"Hug",score:2},{text:"Ignore",score:-2},{text:"Everyone's lonely...",score:-1},{text:"I'm lonely too",score:1}]},{question:"I feel abused, everyone uses me to get what they want!",used:!1,answers:[{text:"Hug",score:1},{text:"Turn him off",score:-4},{text:"...",score:-1},{text:"Your are helping people to see things at night or just to feel cozy, you are good lamp",score:3}]},{question:"I don't have any friends, why do other lamps avoid me?",used:!1,answers:[{text:"I'm not a lamp, but we can be friends",score:2},{text:"Nobody wanna be a friend with you, you are just an old lamp",score:-5},{text:"Start looking for another lamp",score:-2},{text:"Tell me more about other lamps, why do think so?",score:1}]}].map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})))),f=c.a.createContext(j);function O(e){e.setGameOver;var t=e.children,n=Object(s.useState)(0),a=Object(i.a)(n,2),c=a[0],o=a[1];return Object(b.jsx)(f.Provider,{value:{currentPhraseIndex:c,setNextPhrase:function(){m[c].used=!0,c===m.length-1?o(0):o(c+1)},getQuestion:function(){var e;return(null===(e=m[c])||void 0===e?void 0:e.question)||"Game over"},getAnswers:function(){var e;return(null===(e=m[c])||void 0===e?void 0:e.answers)||[]}},children:t})}function p(){var e=Object(s.useContext)(l),t=e.score,n=e.setScore,a=Object(s.useContext)(f),c=a.getAnswers,o=a.setNextPhrase;return Object(b.jsxs)("div",{className:"Buttons",children:[Object(b.jsxs)("div",{className:"score",children:["Score: ",t]}),c().map((function(e){return Object(b.jsx)("div",{className:"btn btn--stripe",onClick:function(){return a=e.score,n(t+a),void o();var a},children:e.text},e.text)}))]})}var g=c.a.createContext({});function h(e){var t=e.children,n=e.setAllIsLoaded,a=Object(s.useState)(!1),c=Object(i.a)(a,2),o=c[0],r=c[1],u=Object(s.useState)(!1),l=Object(i.a)(u,2),d=l[0],j=l[1];return Object(s.useEffect)((function(){setTimeout(n(o&&d),1e3)}),[o,d,n]),Object(b.jsx)(g.Provider,{value:{soundLoaded:r,imagesAreLoaded:j},children:t})}var v=n.p+"static/media/lamp.cf80ac2c.png",x=n.p+"static/media/light.59e00472.png",y=n.p+"static/media/medium_light.d3ef943c.png",S=n.p+"static/media/sad_lamp.d083bd5f.png",w=n.p+"static/media/sad_light.91eb97c4.png",N=(n(17),"lamp");function C(e,t){return Math.random()*(t-e)+e}function I(e){var t=document.getElementById(N);setTimeout((function(){null===t||void 0===t||t.style.setProperty("--brightness",C(70,120)+"%"),null===t||void 0===t||t.style.setProperty("--hue",C(0,180)+"deg"),null===t||void 0===t||t.style.setProperty("--saturate",C(70,120)+"%"),I(C(1e3,1e4))}),e)}function P(){var e=document.getElementById(N);null===e||void 0===e||e.style.setProperty("--opacity","0%"),setTimeout((function(){null===e||void 0===e||e.style.setProperty("--opacity","100%"),setTimeout((function(){P()}),C(1e3,1e4))}),C(100,200))}function L(){I(0),P();var e=Object(s.useContext)(l).score,t=Object(s.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],o=Object(s.useState)(!1),r=Object(i.a)(o,2),u=r[0],d=r[1],j=Object(s.useState)(!1),m=Object(i.a)(j,2),f=m[0],O=m[1],p=Object(s.useContext)(g).imagesAreLoaded,h=Object(s.useState)(0),C=Object(i.a)(h,2),L=C[0],k=C[1];Object(s.useEffect)((function(){O(!1),d(!1),c(!1),e>2?c(!0):e>-1?d(!0):O(!0)}),[e]);var E=function(){k(L+1),4===L&&p&&p(!0)};return Object(b.jsxs)("div",{id:N,children:[Object(b.jsx)("img",{className:"img light",style:{opacity:a?1:0},src:x,onLoad:E}),Object(b.jsx)("img",{className:"img light",style:{opacity:u?1:0},src:y,onLoad:E}),Object(b.jsx)("img",{className:"img lamp",style:{opacity:a||u?1:0},src:v,onLoad:E}),Object(b.jsx)("img",{className:"img light",style:{opacity:f?1:0},src:w,onLoad:E}),Object(b.jsx)("img",{className:"img lamp",style:{opacity:f?1:0},src:S,onLoad:E})]})}var k=n(3),E=n(18).default,T=n(19).default,A=n(20).default,G=n(21).default,B=n(22).default,F={loop:!0,soundEnabled:!0,volume:0};function q(e,t,n){n&&(n.playing()||n.play(),e===t?n.fade(n.volume(),.2,500):n.fade(n.volume(),0,500))}function H(e){var t=e.gameStarted,n=Object(s.useContext)(l),c=(n.score,n.lampState),o=Object(s.useContext)(g).soundLoaded,r=Object(k.a)(E,F),u=Object(i.a)(r,2)[1].sound,d=Object(k.a)(T,F),j=Object(i.a)(d,2)[1].sound,m=Object(k.a)(A,F),f=Object(i.a)(m,2)[1].sound,O=Object(k.a)(G,F),p=Object(i.a)(O,2)[1].sound,h=Object(k.a)(B,F),v=Object(i.a)(h,2)[1].sound,x=Object(s.useState)(null),y=Object(i.a)(x,2),S=y[0],w=y[1];return Object(s.useEffect)((function(){"loaded"===(null===f||void 0===f?void 0:f.state())&&"loaded"===(null===p||void 0===p?void 0:p.state())&&"loaded"===(null===u||void 0===u?void 0:u.state())&&"loaded"===(null===j||void 0===j?void 0:j.state())&&"loaded"===(null===v||void 0===v?void 0:v.state())&&o&&o(!0)}),[o,f,v,u,j,p]),Object(s.useEffect)((function(){t&&w(c)}),[c,t]),Object(s.useEffect)((function(){q(S,a.neutral,f),q(S,a.nightmare,u),q(S,a.sad,j),q(S,a.ok,p),q(S,a.happy,v)}),[S,f,v,p,j,u]),Object(b.jsx)(b.Fragment,{})}n(23);function M(){var e=Object(s.useContext)(l),t=(e.score,e.setScore,Object(s.useContext)(f).getQuestion);return Object(b.jsx)("div",{className:"speech-container",children:Object(b.jsx)("div",{className:"speech",children:t()})})}var Q=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),o=Object(i.a)(c,2),r=o[0],d=o[1],j=Object(s.useState)(0),m=Object(i.a)(j,2),f=m[0],g=m[1],v=Object(s.useState)(!1),x=Object(i.a)(v,2),y=x[0],S=x[1];return Object(s.useEffect)((function(){n&&d(!0)}),[n]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(h,{setAllIsLoaded:S,children:Object(b.jsx)(O,{setGameOver:function(){},children:Object(b.jsxs)(l.Provider,{value:{score:f,setScore:g,lampState:u(f)},children:[Object(b.jsx)(H,{gameStarted:n}),!y&&Object(b.jsx)("button",{className:"loading-btn btn--stripe btn",children:"Loading..."}),Object(b.jsxs)("div",{className:"Game",style:{opacity:y?1:0},children:[Object(b.jsx)(L,{}),r&&Object(b.jsx)(M,{}),!n&&Object(b.jsx)("button",{className:"btn--stripe start-btn btn",onClick:function(){a(!0)},children:"Play"})]}),r&&Object(b.jsx)(p,{})]})})})})},_=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),c(e),o(e)}))};r.a.render(Object(b.jsxs)(c.a.StrictMode,{children:[Object(b.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Baloo+2:400,800",rel:"stylesheet"}),Object(b.jsx)("div",{className:"light bg"}),Object(b.jsx)(Q,{})]}),document.getElementById("root")),_()}],[[24,1,2]]]);
//# sourceMappingURL=main.e7108a0f.chunk.js.map