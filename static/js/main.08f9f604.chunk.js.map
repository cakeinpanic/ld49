{"version":3,"sources":["assets/ludum_dare_beta_-5.mp3","assets/ludum_dare_beta_-2.5.mp3","assets/ludum_dare_beta_0.mp3","assets/ludum_dare_beta_2.5.mp3","assets/ludum_dare_beta_5.mp3","lampState.enum.ts","context/score.context.ts","context/speech.context.tsx","PHRASES.ts","Buttons.tsx","context/loaded.context.tsx","assets/lamp.png","assets/light.png","assets/medium_light.png","assets/sad_lamp.png","assets/sad_light.png","Lamp.tsx","Music.tsx","Speech.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["eLampState","getStateByScore","score","happy","ok","neutral","sad","nightmare","ScoreContext","React","createContext","lampState","setScore","initialState","currentPhraseIndex","setNextPhrase","getQuestion","getAnswers","PHRASES","used","text","map","value","sort","Math","random","a","b","SpeechContext","SpeechContextProvider","setGameOver","children","useState","setCurrentPhraseIndex","Provider","length","question","answers","Buttons","useContext","className","onClick","answerScore","LoadedContext","LoadedContextProvider","setAllIsLoaded","sound","setSound","images","setImages","useEffect","setTimeout","soundLoaded","imagesAreLoaded","LAMP_ID","getRandomBetween","min","max","changeColor","timeout","root","document","getElementById","style","setProperty","blink","Lamp","loadedCount","setLoadedCount","imgLoaded","id","opacity","src","light","onLoad","mediumLight","lamp","sadLight","sadLamp","require","default","params","loop","soundEnabled","volume","doSound","currentSound","soundState","howlerObject","playing","play","fade","Music","gameStarted","useSound","nightmareSound","sadSound","neutralSound","okSound","happySound","setCurrentSound","state","Speech","App","setGameStarted","showControls","setShowControls","allIsLoaded","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","href","rel"],"mappings":"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","file":"static/js/main.08f9f604.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"1e08c02ffb091b99fb2facf24618c7f8.mp3\";","export default __webpack_public_path__ + \"ed14d2196c6a0a8bf20a14c8c076ddd8.mp3\";","export default __webpack_public_path__ + \"e50d51ee58c6ec04b8cffdb182707bfa.mp3\";","export default __webpack_public_path__ + \"786120ca73fc6fc78ce66d044b9d37d2.mp3\";","export default __webpack_public_path__ + \"de8730f7f67fb59b3387c7dab07f1b00.mp3\";","export enum eLampState {\n  happy = 'happy', ok = 'ok', neutral = 'neutral', sad = 'sad', nightmare = 'nightmare'\n}\n\nexport function getStateByScore(score: number): eLampState {\n  if (score > 4.5) {\n    return eLampState.happy\n  }\n  if (score > 2.5) {\n    return (eLampState.ok)\n  }\n\n  if (score > 0) {\n    return (eLampState.neutral)\n  }\n\n  if (score > -2.5) {\n    return (eLampState.sad)\n  }\n\n  return (eLampState.nightmare)\n\n}\n","import React from 'react'\nimport { eLampState } from '../lampState.enum'\n\nexport interface IContext {\n  score: number,\n  lampState: eLampState,\n  setScore: Function\n}\n\nexport const ScoreContext = React.createContext<IContext>({ score: 0, lampState: eLampState.neutral, setScore: () => {} })\n","import React, { useState } from 'react'\nimport { FIRST_PHRASE, IAnswer, IState, REST_PHRASES } from '../PHRASES'\n\nexport interface ISpeechContext {\n  currentPhraseIndex: number\n  setNextPhrase: Function\n  getQuestion: () => string\n  getAnswers: () => IAnswer[]\n}\n\nconst initialState = {\n  currentPhraseIndex: 0,\n  setNextPhrase: () => {},\n  getQuestion: () => 'string',\n  getAnswers: () => []\n}\n\nconst shuffle = (arr: any[]) => {\n  return arr\n    .map((value) => ({ value, sort: Math.random() }))\n    .sort((a, b) => a.sort - b.sort)\n    .map(({ value }) => value)\n}\nconst PHRASES: IState[] = [FIRST_PHRASE, ...shuffle(REST_PHRASES)]\n\nexport const SpeechContext = React.createContext<ISpeechContext>(initialState)\n\nexport function SpeechContextProvider({ setGameOver, children }: { setGameOver: Function, children: any }) {\n  const setNextPhrase = () => {\n    PHRASES[currentPhraseIndex].used = true\n    if (currentPhraseIndex === PHRASES.length - 1) {\n      setCurrentPhraseIndex(0)\n      //setGameOver()\n    } else {\n      setCurrentPhraseIndex(currentPhraseIndex + 1)\n    }\n  }\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0)\n\n  return (\n    <SpeechContext.Provider value={\n      {\n        currentPhraseIndex, setNextPhrase,\n        getQuestion: () => {\n          return PHRASES[currentPhraseIndex]?.question || 'Game over'\n        },\n        getAnswers: () => {\n          return PHRASES[currentPhraseIndex]?.answers || []\n        }\n      }\n    }>\n      {children}\n    </SpeechContext.Provider>\n  )\n}\n","export interface IState {\n  question: string,\n  used: boolean,\n  answers: IAnswer[]\n}\nexport interface IAnswer { text: string, score: number }\nexport const FIRST_PHRASE: IState = {\n  'question': 'Hey...I\\'m Greg the Lamp',\n  used: false,\n  'answers': [\n    {\n      'text': 'Hi, Greg',\n      'score': 0\n    },\n    {\n      'text': 'I\\'m not interested',\n      'score': -2\n    },\n    {\n      'text': 'You look sad, Greg, wanna talk?',\n      'score': 3\n    },\n    {\n      'text': 'Wow, talking lamp, lol',\n      'score': -1\n    }\n  ]\n}\n\n\nexport const REST_PHRASES: IState[] = [\n  {\n    'question': 'I feel lonely',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 2\n      },\n      {\n        'text': 'Ignore',\n        'score': -2\n      },\n      {\n        'text': 'Everyone\\'s lonely...',\n        'score': -1\n      },\n      {\n        'text': 'I\\'m lonely too',\n        'score': 1\n      }\n    ]\n  },\n  {\n    'question': 'I feel abused, everyone uses me to get what they want!',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 1\n      },\n      {\n        'text': 'Turn him off',\n        'score': -4\n      },\n      {\n        'text': '...',\n        'score': -1\n      },\n      {\n        'text': 'Your are helping people to see things at night or just to feel cozy, you are good lamp',\n        'score': 3\n      }\n    ]\n  },\n  {\n    'question': 'I don\\'t have any friends, why do other lamps avoid me?',\n    used: false,\n    'answers': [\n      {\n        text: 'I\\'m not a lamp, but we can be friends',\n        'score': 2\n      },\n      {\n        'text': 'Nobody wanna be a friend with you, you are just an old lamp',\n        'score': -5\n      },\n      {\n        'text': 'Start looking for another lamp',\n        'score': -2\n      },\n      {\n        'text': 'Tell me more about other lamps, why do think so?',\n        'score': 1\n      }\n    ]\n  },\n]\n","import { useContext } from 'react'\nimport './Buttons.css'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Buttons() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getAnswers, setNextPhrase } = useContext(SpeechContext)\n\n  const clicked = (answerScore: number) => {\n    setScore(score + answerScore)\n    setNextPhrase()\n\n  }\n  return (\n    <div className=\"Buttons\">\n      <div className=\"score\">Score: {score}</div>\n      {\n        getAnswers()\n          .map(\n            a => <div className=\"btn btn--stripe\" key={a.text}\n                      onClick={() => clicked(a.score)}>{a.text}</div>)\n      }\n    </div>\n  )\n}\n\n","import React, { useEffect, useState } from 'react'\n\nexport interface ILoadedContext {\n  soundLoaded?: Function\n  imagesAreLoaded?: Function\n}\n\nexport const LoadedContext = React.createContext<ILoadedContext>({  })\n\nexport function LoadedContextProvider({ children, setAllIsLoaded }: { children: any, setAllIsLoaded: Function }) {\n  const [sound, setSound] = useState(false)\n  const [images, setImages] = useState(false)\n\n  useEffect(() => {\n    setTimeout(setAllIsLoaded(sound && images),1000)\n  }, [sound, images, setAllIsLoaded])\n\n  return (\n    <LoadedContext.Provider value={\n      {\n        soundLoaded: setSound,\n        imagesAreLoaded: setImages,\n      }\n    }>\n      {children}\n    </LoadedContext.Provider>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/lamp.cf80ac2c.png\";","export default __webpack_public_path__ + \"static/media/light.59e00472.png\";","export default __webpack_public_path__ + \"static/media/medium_light.d3ef943c.png\";","export default __webpack_public_path__ + \"static/media/sad_lamp.d083bd5f.png\";","export default __webpack_public_path__ + \"static/media/sad_light.91eb97c4.png\";","import { useContext, useState } from 'react'\nimport lamp from './assets/lamp.png'\nimport light from './assets/light.png'\nimport mediumLight from './assets/medium_light.png'\nimport sadLamp from './assets/sad_lamp.png'\nimport sadLight from './assets/sad_light.png'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport './Lamp.css'\nimport { eLampState } from './lampState.enum'\n\nconst LAMP_ID = 'lamp'\n\nfunction getRandomBetween(min: number, max: number) {\n  return Math.random() * (max - min) + min\n}\n\nfunction changeColor(timeout: number) {\n  const root = document.getElementById(LAMP_ID)\n\n  setTimeout(() => {\n    root?.style.setProperty('--brightness', getRandomBetween(70, 120) + '%')\n    root?.style.setProperty('--hue', getRandomBetween(0, 180) + 'deg')\n    root?.style.setProperty('--saturate', getRandomBetween(70, 120) + '%')\n    changeColor(getRandomBetween(1000, 10000))\n  }, timeout)\n}\n\nfunction blink() {\n  const root = document.getElementById(LAMP_ID)\n\n  root?.style.setProperty('--opacity', '0%')\n  setTimeout(() => {\n    root?.style.setProperty('--opacity', '100%')\n    setTimeout(() => {\n      blink()\n    }, getRandomBetween(1000, 10000))\n  }, getRandomBetween(100, 200))\n}\n\nexport function Lamp() {\n  changeColor(0)\n  blink()\n\n  const { score, lampState } = useContext(ScoreContext)\n\n  const { imagesAreLoaded } = useContext(LoadedContext)\n  const [loadedCount, setLoadedCount] = useState(0)\n\n  const imgLoaded = () => {\n    setLoadedCount(loadedCount + 1)\n\n    if (loadedCount === 4) {\n      imagesAreLoaded && imagesAreLoaded(true)\n    }\n  }\n\n  return (\n    <div id={LAMP_ID}>\n      <img className=\"img light\"\n           style={{ opacity: lampState === eLampState.happy || lampState === eLampState.ok ? 1 : 0 }} src={light}\n           onLoad={imgLoaded}/>\n      <img className=\"img light\"\n           style={{ opacity: lampState === eLampState.neutral || lampState === eLampState.sad ? 1 : 0 }}\n           src={mediumLight} onLoad={imgLoaded}/>\n      <img className=\"img lamp\" style={{ opacity: lampState !== eLampState.nightmare ? 1 : 0 }} src={lamp}\n           onLoad={imgLoaded}/>\n\n      <img className=\"img light\" style={{ opacity: lampState === eLampState.nightmare ? 1 : 0 }} src={sadLight}\n           onLoad={imgLoaded}/>\n      <img className=\"img lamp\" style={{ opacity: lampState === eLampState.nightmare ? 1 : 0 }} src={sadLamp}\n           onLoad={imgLoaded}/>\n    </div>\n  )\n}\n\n","import { useContext, useEffect, useState } from 'react'\nimport useSound from 'use-sound'\nimport './App.css'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { eLampState } from './lampState.enum'\n\nconst nightmare = require('./assets/ludum_dare_beta_-5.mp3').default\nconst sad = require('./assets/ludum_dare_beta_-2.5.mp3').default\nconst neutral = require('./assets/ludum_dare_beta_0.mp3').default\nconst ok = require('./assets/ludum_dare_beta_2.5.mp3').default\nconst happy = require('./assets/ludum_dare_beta_5.mp3').default\n\nconst VOLUME = .35\nconst FADE_DURATION = 800\nconst params = { loop: true, soundEnabled: true, volume: 0 }\n\nfunction doSound(currentSound: eLampState | null, soundState: eLampState, howlerObject: any) {\n  if (!howlerObject) {\n    return\n  }\n  if (!howlerObject.playing()) {\n    howlerObject.play()\n  }\n  if (currentSound === soundState) {\n    howlerObject.fade(howlerObject.volume(), VOLUME, FADE_DURATION)\n  } else {\n    howlerObject.fade(howlerObject.volume(), 0, FADE_DURATION)\n  }\n}\n\nexport function Music({ gameStarted }: { gameStarted: boolean }) {\n  const { score, lampState } = useContext(ScoreContext)\n  const { soundLoaded } = useContext(LoadedContext)\n\n  const [, { sound: nightmareSound }] = useSound(nightmare, params)\n  const [, { sound: sadSound }] = useSound(sad, params)\n  const [, { sound: neutralSound }] = useSound(neutral, params)\n  const [, { sound: okSound }] = useSound(ok, params)\n  const [, { sound: happySound }] = useSound(happy, params)\n\n  const [currentSound, setCurrentSound] = useState<eLampState | null>(null)\n\n  useEffect(() => {\n\n    if (neutralSound?.state() === 'loaded'\n      && okSound?.state() === 'loaded'\n      && nightmareSound?.state() === 'loaded'\n      && sadSound?.state() === 'loaded'\n      && happySound?.state() === 'loaded'\n    ) {\n      soundLoaded && soundLoaded(true)\n    }\n  }, [soundLoaded, neutralSound, happySound, nightmareSound, sadSound, okSound])\n\n  //useEffect(() => {\n  //\n  //  console.log(score, currentSound, [happySound, okSound, neutralSound, sadSound, nightmareSound].map(s => {\n  //    return (s?.volume() + s?.state())\n  //  }))\n  //}, [currentSound, score,  neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  useEffect(() => {\n      if (!gameStarted) {\n        return\n      }\n      setCurrentSound(lampState)\n    },\n    [lampState, gameStarted]\n  )\n\n  useEffect(() => {\n    doSound(currentSound, eLampState.neutral, neutralSound)\n    doSound(currentSound, eLampState.nightmare, nightmareSound)\n    doSound(currentSound, eLampState.sad, sadSound)\n    doSound(currentSound, eLampState.ok, okSound)\n    doSound(currentSound, eLampState.happy, happySound)\n  }, [currentSound, neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  return (\n    <>\n\n    </>\n  )\n}\n\n","import { useContext } from 'react'\nimport { ScoreContext } from './context/score.context'\nimport './Speech.css'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Speech() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getQuestion } = useContext(SpeechContext)\n\n  return (\n\n    <div className=\"speech-container\">\n      <div className=\"speech\">\n        {getQuestion()}\n      </div>\n    </div>\n  )\n}\n\n","import { useEffect, useState } from 'react'\nimport './App.css'\nimport { Buttons } from './Buttons'\nimport { LoadedContextProvider } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContextProvider } from './context/speech.context'\nimport { Lamp } from './Lamp'\nimport { getStateByScore } from './lampState.enum'\nimport { Music } from './Music'\nimport { Speech } from './Speech'\n\nfunction App() {\n\n  const [gameStarted, setGameStarted] = useState(false)\n  const [showControls, setShowControls] = useState(false)\n  const [score, setScore] = useState(0)\n\n  const [allIsLoaded, setAllIsLoaded] = useState(false)\n\n  useEffect(() => {\n    if (gameStarted) {\n      setShowControls(true)\n    }\n  }, [gameStarted])\n\n  const setGameOver = () => {\n\n  }\n\n  return (\n    <>\n      <LoadedContextProvider setAllIsLoaded={setAllIsLoaded}>\n        <SpeechContextProvider setGameOver={setGameOver}>\n          <ScoreContext.Provider value={{ score, setScore,lampState: getStateByScore(score) }}>\n            <Music gameStarted={gameStarted}/>\n            {!allIsLoaded && <button className=\"loading-btn btn--stripe btn\">\n              Loading...\n            </button>}\n            <div className=\"Game\" style={{ opacity: allIsLoaded ? 1 : 0 }}>\n              <Lamp/>\n              {showControls && <Speech/>}\n              {\n                !gameStarted &&\n                <button className=\"btn--stripe start-btn btn\"\n                        onClick={() => {setGameStarted(true)}}>\n                  Play\n                </button>\n              }\n            </div>\n            {showControls && <Buttons/>}\n          </ScoreContext.Provider>\n        </SpeechContextProvider>\n      </LoadedContextProvider>\n    </>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <link href=\"https://fonts.googleapis.com/css?family=Baloo+2:400,800\" rel=\"stylesheet\"/>\n    <div className=\"light bg\"/>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n//document.getElementById('root').classList.add('light');\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}