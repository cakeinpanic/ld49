{"version":3,"sources":["assets/normal.mp3","assets/happy.mp3","context/score.context.ts","context/speech.context.tsx","PHRASES.ts","Buttons.tsx","assets/lamp.png","assets/sad_lamp.png","assets/light.png","assets/medium_light.png","assets/sad_light.png","Lamp.tsx","Music.tsx","Speech.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["ScoreContext","React","createContext","score","setScore","initialState","currentPhraseIndex","setNextPhrase","getQuestion","getAnswers","PHRASES","used","text","map","value","sort","Math","random","a","b","SpeechContext","SpeechContextProvider","setGameOver","children","useState","setCurrentPhraseIndex","Provider","length","question","answers","Buttons","useContext","className","onClick","answerScore","LAMP_ID","getRandomBetween","min","max","changeColor","timeout","root","document","getElementById","setTimeout","style","setProperty","blink","Lamp","showBright","setShowBright","showMedium","setShowMedium","showSad","setShowSad","useEffect","id","opacity","src","light","mediumLight","lamp","sadLight","sadLamp","eSound","normal","require","default","happy","Music","gameStarted","useSound","loop","soundEnabled","volume","playNormal","stopNormal","stop","playHappy","stopHappy","currentSound","prevSoundRef","useRef","current","sad","Speech","documentElement","App","setGameStarted","showControls","setShowControls","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","href","rel"],"mappings":"wMAAA,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,wC,yGCO5BA,G,WAAeC,IAAMC,cAAwB,CAAEC,MAAO,EAAGC,SAAU,gB,cCG1EC,EAAe,CACnBC,mBAAoB,EACpBC,cAAe,aACfC,YAAa,iBAAM,UACnBC,WAAY,iBAAM,KASdC,EAAiB,CCjBa,CAClC,SAAY,0BACZC,MAAM,EACN,QAAW,CACT,CACE,KAAQ,WACR,MAAS,GAEX,CACE,KAAQ,qBACR,OAAU,GAEZ,CACE,KAAQ,kCACR,MAAS,GAEX,CACE,KAAQ,yBACR,OAAU,MDDO,mBCOe,CACpC,CACE,SAAY,gBACZA,MAAM,EACN,QAAW,CACT,CACEC,KAAM,MACN,MAAS,GAEX,CACE,KAAQ,SACR,OAAU,GAEZ,CACE,KAAQ,uBACR,OAAU,GAEZ,CACE,KAAQ,iBACR,MAAS,MD9BZC,KAAI,SAACC,GAAD,MAAY,CAAEA,QAAOC,KAAMC,KAAKC,aACpCF,MAAK,SAACG,EAAGC,GAAJ,OAAUD,EAAEH,KAAOI,EAAEJ,QAC1BF,KAAI,qBAAGC,WAICM,EAAgBnB,IAAMC,cAA8BG,GAE1D,SAASgB,EAAT,GAAoG,EAAnEC,YAAoE,IAAvDC,EAAsD,EAAtDA,SAUnD,EAAoDC,mBAAS,GAA7D,mBAAOlB,EAAP,KAA2BmB,EAA3B,KAEA,OACE,cAACL,EAAcM,SAAf,CAAwBZ,MACtB,CACER,qBAAoBC,cAdJ,WACpBG,EAAQJ,GAAoBK,MAAO,EAC/BL,IAAuBI,EAAQiB,OAAS,EAC1CF,EAAsB,GAGtBA,EAAsBnB,EAAqB,IASzCE,YAAa,WAAO,IAAD,EACjB,OAAO,UAAAE,EAAQJ,UAAR,eAA6BsB,WAAY,aAElDnB,WAAY,WAAO,IAAD,EAChB,OAAO,UAAAC,EAAQJ,UAAR,eAA6BuB,UAAW,KAPrD,SAWGN,IE9CA,SAASO,IACd,MAA4BC,qBAAW/B,GAA/BG,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACf,EAAsC2B,qBAAWX,GAAzCX,EAAR,EAAQA,WAAYF,EAApB,EAAoBA,cAOpB,OACE,sBAAKyB,UAAU,UAAf,UACE,sBAAKA,UAAU,QAAf,oBAA+B7B,KAE7BM,IACGI,KACC,SAAAK,GAAC,OAAI,qBAAKc,UAAU,kBACVC,QAAS,kBAZZC,EAY0BhB,EAAEf,MAX3CC,EAASD,EAAQ+B,QACjB3B,IAFc,IAAC2B,GAWF,SACuChB,EAAEN,MADHM,EAAEN,YCpB1C,UAA0B,iCCA1B,MAA0B,qCCA1B,MAA0B,kCCA1B,MAA0B,yCCA1B,MAA0B,sCCSnCuB,G,MAAU,QAEhB,SAASC,EAAiBC,EAAaC,GACrC,OAAOtB,KAAKC,UAAYqB,EAAMD,GAAOA,EAGvC,SAASE,EAAYC,GACnB,IAAMC,EAAOC,SAASC,eAAeR,GAErCS,YAAW,WACL,OAAJH,QAAI,IAAJA,KAAMI,MAAMC,YAAY,eAAgBV,EAAiB,GAAI,KAAO,KAChE,OAAJK,QAAI,IAAJA,KAAMI,MAAMC,YAAY,QAASV,EAAiB,EAAG,KAAO,OACxD,OAAJK,QAAI,IAAJA,KAAMI,MAAMC,YAAY,aAAcV,EAAiB,GAAI,KAAO,KAClEG,EAAYH,EAAiB,IAAM,QAClCI,GAGL,SAASO,IACP,IAAMN,EAAOC,SAASC,eAAeR,GAEjC,OAAJM,QAAI,IAAJA,KAAMI,MAAMC,YAAY,YAAa,MACrCF,YAAW,WACL,OAAJH,QAAI,IAAJA,KAAMI,MAAMC,YAAY,YAAa,QACrCF,YAAW,WACTG,MACCX,EAAiB,IAAM,QACzBA,EAAiB,IAAK,MAGpB,SAASY,IACdT,EAAY,GACZQ,IAEA,IAAQ5C,EAAU4B,qBAAW/B,GAArBG,MACR,EAAoCqB,oBAAS,GAA7C,mBAAOyB,EAAP,KAAmBC,EAAnB,KACA,EAAoC1B,oBAAS,GAA7C,mBAAO2B,EAAP,KAAmBC,EAAnB,KACA,EAA8B5B,oBAAS,GAAvC,mBAAO6B,EAAP,KAAgBC,EAAhB,KAmBA,OAjBAC,qBAAU,WACRD,GAAW,GACXF,GAAc,GACdF,GAAc,GAEV/C,EAAQ,EACV+C,GAAc,GAGZ/C,GAAS,EACXiD,GAAc,GAGhBE,GAAW,KAEV,CAACnD,IAGF,sBAAKqD,GAAIrB,EAAT,UACE,qBAAKH,UAAU,YAAWa,MAAO,CAACY,QAASR,EAAa,EAAI,GAAIS,IAAKC,IACpE,qBAAK3B,UAAU,YAAYa,MAAO,CAACY,QAASN,EAAa,EAAI,GAAIO,IAAKE,IACtE,qBAAK5B,UAAU,WAAWa,MAAO,CAACY,QAAUR,GAAcE,EAAc,EAAI,GAAIO,IAAKG,IAErF,qBAAK7B,UAAU,YAAYa,MAAO,CAACY,QAASJ,EAAU,EAAI,GAAIK,IAAKI,IACnE,qBAAK9B,UAAU,WAAWa,MAAO,CAACY,QAASJ,EAAU,EAAI,GAAIK,IAAKK,O,IC/DpEC,E,OAHCC,EAASC,EAAQ,IAAuBC,QACxCC,EAAQF,EAAQ,IAAsBC,QAMrC,SAASE,EAAT,GAA2D,IAA1CC,EAAyC,EAAzCA,YACdnE,EAAU4B,qBAAW/B,GAArBG,MAER,EAA2CoE,YAASN,EAAQ,CAAEO,MAAM,EAAMC,cAAc,EAAMC,OAAQ,KAAtG,mBAAOC,EAAP,KAA2BC,EAA3B,KAAqBC,KACrB,EAAyCN,YAASH,EAAO,CAAEI,MAAM,EAAMC,cAAc,EAAMC,OAAQ,KAAnG,mBAAOI,EAAP,KAA0BC,EAA1B,KAAoBF,KACpB,EAAwCrD,mBAAwB,MAAhE,mBAAOwD,EAAP,KAEMC,GAFN,KAEqBC,oBA0DrB,OAxDA3B,qBAAU,cAsBP,CAACpD,EAAOmE,IAEXf,qBAAU,WACR,GAAKyB,IAA0C,OAAzBC,EAAaE,SAAoBF,EAAaE,UAAYH,GAAhF,CAGA,OAAQC,EAAaE,SACnB,KAAKnB,EAAOC,OACVW,IACA,MACF,KAAKZ,EAAOoB,IACV,MACF,KAAKpB,EAAOI,MACVW,IAIJ,OAAQC,GACN,KAAKhB,EAAOC,OACVU,IACA,MACF,KAAKX,EAAOoB,IACV,MACF,KAAKpB,EAAOI,MACVU,QAIH,CAACE,EAAcJ,EAAYG,EAAWD,EAAWH,IAEpDpB,qBAAU,WACR0B,EAAaE,QAAUH,IACtB,CAACA,IAGF,8B,SAtEChB,K,cAAAA,E,gBAAAA,E,WAAAA,M,WCHE,SAASqB,IACd,MAA4BtD,qBAAW/B,GAC/BQ,GADR,EAAQL,MAAR,EAAeC,SACS2B,qBAAWX,GAA3BZ,aAER,OAEE,qBAAKwB,UAAU,mBAAf,SACE,qBAAKA,UAAU,SAAf,SACGxB,QCJIkC,SAAS4C,gBAwCPC,MAtCf,WAEE,MAAsC/D,oBAAS,GAA/C,mBAAO8C,EAAP,KAAoBkB,EAApB,KACA,EAAwChE,oBAAS,GAAjD,mBAAOiE,EAAP,KAAqBC,EAArB,KACA,EAA0BlE,mBAAS,GAAnC,mBAAOrB,EAAP,KAAcC,EAAd,KAYA,OAVAmD,qBAAU,WACJe,GACFoB,GAAgB,KAEjB,CAACpB,IAOF,mCAEE,cAACjD,EAAD,CAAuBC,YAPP,aAOhB,SACE,eAACtB,EAAa0B,SAAd,CAAuBZ,MAAO,CAAEX,QAAOC,YAAvC,UACE,cAACiE,EAAD,CAAOC,YAAaA,IACpB,sBAAKtC,UAAU,OAAf,UACE,cAAC,EAAD,IACCyD,GAAgB,cAAC,EAAD,KACfnB,GAAe,wBAAQtC,UAAU,4BAA4BC,QAAS,WACtEuD,GAAe,IADA,qBAIlBC,GAAgB,cAAC,EAAD,YC5BZE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,eAAC,IAAMC,WAAP,WACE,sBAAMC,KAAK,0DAA0DC,IAAI,eACzE,qBAAKxE,UAAU,aACf,cAAC,EAAD,OAEFU,SAASC,eAAe,SAM1BgD,M","file":"static/js/main.41c74716.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"91186c71ad4e82001831e6aefacfc75f.mp3\";","export default __webpack_public_path__ + \"d2278987e445e6e84db2e19883660273.mp3\";","import React from 'react'\n\nexport interface IContext {\n  score: number,\n  setScore: Function\n}\n\nexport const ScoreContext = React.createContext<IContext>({ score: 0, setScore: () => {} })\n","import React, { useState } from 'react'\nimport { FIRST_PHRASE, IAnswer, IState, REST_PHRASES } from '../PHRASES'\n\nexport interface ISpeechContext {\n  currentPhraseIndex: number\n  setNextPhrase: Function\n  getQuestion: () => string\n  getAnswers: () => IAnswer[]\n}\n\nconst initialState = {\n  currentPhraseIndex: 0,\n  setNextPhrase: () => {},\n  getQuestion: () => 'string',\n  getAnswers: () => []\n}\n\nconst shuffle = (arr: any[]) => {\n  return arr\n    .map((value) => ({ value, sort: Math.random() }))\n    .sort((a, b) => a.sort - b.sort)\n    .map(({ value }) => value)\n}\nconst PHRASES: IState[] = [FIRST_PHRASE, ...shuffle(REST_PHRASES)]\n\nexport const SpeechContext = React.createContext<ISpeechContext>(initialState)\n\nexport function SpeechContextProvider({ setGameOver, children }: { setGameOver: Function, children: any }) {\n  const setNextPhrase = () => {\n    PHRASES[currentPhraseIndex].used = true\n    if (currentPhraseIndex === PHRASES.length - 1) {\n      setCurrentPhraseIndex(0)\n      //setGameOver()\n    } else {\n      setCurrentPhraseIndex(currentPhraseIndex + 1)\n    }\n  }\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0)\n\n  return (\n    <SpeechContext.Provider value={\n      {\n        currentPhraseIndex, setNextPhrase,\n        getQuestion: () => {\n          return PHRASES[currentPhraseIndex]?.question || 'Game over'\n        },\n        getAnswers: () => {\n          return PHRASES[currentPhraseIndex]?.answers || []\n        }\n      }\n    }>\n      {children}\n    </SpeechContext.Provider>\n  )\n}\n","export interface IState {\n  question: string,\n  used: boolean,\n  answers: IAnswer[]\n}\nexport interface IAnswer { text: string, score: number }\nexport const FIRST_PHRASE: IState = {\n  'question': 'Hey...I\\'m Greg the Lamp',\n  used: false,\n  'answers': [\n    {\n      'text': 'Hi, Greg',\n      'score': 0\n    },\n    {\n      'text': 'I\\'m not interested',\n      'score': -2\n    },\n    {\n      'text': 'You look sad, Greg, wanna talk?',\n      'score': 3\n    },\n    {\n      'text': 'Wow, talking lamp, lol',\n      'score': -1\n    }\n  ]\n}\n\n\nexport const REST_PHRASES: IState[] = [\n  {\n    'question': 'I feel lonely',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 2\n      },\n      {\n        'text': 'Ignore',\n        'score': -2\n      },\n      {\n        'text': 'Everyone\\'s lonely...',\n        'score': -1\n      },\n      {\n        'text': 'I\\'m lonely too',\n        'score': 1\n      }\n    ]\n  }\n]\n","import { useContext } from 'react'\nimport './Buttons.css'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Buttons() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getAnswers, setNextPhrase } = useContext(SpeechContext)\n\n  const clicked = (answerScore: number) => {\n    setScore(score + answerScore)\n    setNextPhrase()\n\n  }\n  return (\n    <div className=\"Buttons\">\n      <div className=\"score\">Score: {score}</div>\n      {\n        getAnswers()\n          .map(\n            a => <div className=\"btn btn--stripe\" key={a.text}\n                      onClick={() => clicked(a.score)}>{a.text}</div>)\n      }\n    </div>\n  )\n}\n\n","export default __webpack_public_path__ + \"static/media/lamp.cf80ac2c.png\";","export default __webpack_public_path__ + \"static/media/sad_lamp.d083bd5f.png\";","export default __webpack_public_path__ + \"static/media/light.59e00472.png\";","export default __webpack_public_path__ + \"static/media/medium_light.d3ef943c.png\";","export default __webpack_public_path__ + \"static/media/sad_light.91eb97c4.png\";","import { useContext, useEffect, useState } from 'react'\nimport lamp from './assets/lamp.png'\nimport sadLamp from './assets/sad_lamp.png'\nimport light from './assets/light.png'\nimport mediumLight from './assets/medium_light.png'\nimport sadLight from './assets/sad_light.png'\nimport { ScoreContext } from './context/score.context'\nimport './Lamp.css'\n\nconst LAMP_ID = 'lamp'\n\nfunction getRandomBetween(min: number, max: number) {\n  return Math.random() * (max - min) + min\n}\n\nfunction changeColor(timeout: number) {\n  const root = document.getElementById(LAMP_ID)\n\n  setTimeout(() => {\n    root?.style.setProperty('--brightness', getRandomBetween(70, 120) + '%')\n    root?.style.setProperty('--hue', getRandomBetween(0, 180) + 'deg')\n    root?.style.setProperty('--saturate', getRandomBetween(70, 120) + '%')\n    changeColor(getRandomBetween(1000, 10000))\n  }, timeout)\n}\n\nfunction blink() {\n  const root = document.getElementById(LAMP_ID)\n\n  root?.style.setProperty('--opacity', '0%')\n  setTimeout(() => {\n    root?.style.setProperty('--opacity', '100%')\n    setTimeout(() => {\n      blink()\n    }, getRandomBetween(1000, 10000))\n  }, getRandomBetween(100, 200))\n}\n\nexport function Lamp() {\n  changeColor(0)\n  blink()\n\n  const { score } = useContext(ScoreContext)\n  const [showBright, setShowBright] = useState(false)\n  const [showMedium, setShowMedium] = useState(false)\n  const [showSad, setShowSad] = useState(false)\n\n  useEffect(() => {\n    setShowSad(false)\n    setShowMedium(false)\n    setShowBright(false)\n\n    if (score > 2) {\n      setShowBright(true)\n      return\n    }\n    if (score > -1) {\n      setShowMedium(true)\n      return\n    }\n    setShowSad(true)\n\n  }, [score])\n\n  return (\n    <div id={LAMP_ID}>\n      <img className=\"img light\"style={{opacity: showBright ? 1 : 0}} src={light}/>\n       <img className=\"img light\" style={{opacity: showMedium ? 1 : 0}} src={mediumLight}/>\n       <img className=\"img lamp\" style={{opacity: (showBright || showMedium) ? 1 : 0}} src={lamp}/>\n\n       <img className=\"img light\" style={{opacity: showSad ? 1 : 0}} src={sadLight}/>\n       <img className=\"img lamp\" style={{opacity: showSad ? 1 : 0}} src={sadLamp}/>\n    </div>\n  )\n}\n\n","import { useContext, useEffect, useRef, useState } from 'react'\nimport useSound from 'use-sound'\nimport './App.css'\nimport { ScoreContext } from './context/score.context'\n\nconst normal = require('./assets/normal.mp3').default\nconst happy = require('./assets/happy.mp3').default\n\nenum eSound {\n  happy = 'happy', normal = 'normal', sad = 'sad'\n}\n\nexport function Music({ gameStarted }: { gameStarted: boolean }) {\n  const { score } = useContext(ScoreContext)\n\n  const [playNormal, { stop: stopNormal }] = useSound(normal, { loop: true, soundEnabled: true, volume: .4 })\n  const [playHappy, { stop: stopHappy }] = useSound(happy, { loop: true, soundEnabled: true, volume: .4 })\n  const [currentSound, setCurrentSound] = useState<eSound | null>(null)\n\n  const prevSoundRef = useRef<eSound | null>()\n\n  useEffect(() => {\n    if (true || !gameStarted) {\n      return\n    }\n\n    if (score > 3) {\n      setCurrentSound(eSound.happy)\n      return\n    }\n    if (score > 2) {\n      setCurrentSound(eSound.normal)\n\n      return\n    }\n    if (score > -1) {\n      setCurrentSound(eSound.normal)\n      return\n    }\n    if (score > -3) {\n      setCurrentSound(eSound.sad)\n\n    }\n  }, [score, gameStarted])\n\n  useEffect(() => {\n    if (!currentSound || (prevSoundRef.current !== null && prevSoundRef.current === currentSound)) {\n      return\n    }\n    switch (prevSoundRef.current) {\n      case eSound.normal:\n        stopNormal()\n        break\n      case eSound.sad:\n        break\n      case eSound.happy:\n        stopHappy()\n        break\n    }\n\n    switch (currentSound) {\n      case eSound.normal:\n        playNormal()\n        break\n      case eSound.sad:\n        break\n      case eSound.happy:\n        playHappy()\n        break\n    }\n\n  }, [currentSound, stopNormal, stopHappy, playHappy, playNormal])\n\n  useEffect(() => {\n    prevSoundRef.current = currentSound\n  }, [currentSound])\n\n  return (\n    <>\n\n    </>\n  )\n}\n\n","import { useContext } from 'react'\nimport { ScoreContext } from './context/score.context'\nimport './Speech.css'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Speech() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getQuestion } = useContext(SpeechContext)\n\n  return (\n\n    <div className=\"speech-container\">\n      <div className=\"speech\">\n        {getQuestion()}\n      </div>\n    </div>\n  )\n}\n\n","import { useEffect, useState } from 'react'\nimport './App.css'\nimport { Buttons } from './Buttons'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContextProvider } from './context/speech.context'\nimport { Lamp } from './Lamp'\nimport { Music } from './Music'\nimport { Speech } from './Speech'\n\nconst root = document.documentElement\n\nfunction App() {\n\n  const [gameStarted, setGameStarted] = useState(false)\n  const [showControls, setShowControls] = useState(false)\n  const [score, setScore] = useState(0)\n\n  useEffect(() => {\n    if (gameStarted) {\n      setShowControls(true)\n    }\n  }, [gameStarted])\n\n  const setGameOver = () => {\n\n  }\n\n  return (\n    <>\n\n      <SpeechContextProvider setGameOver={setGameOver}>\n        <ScoreContext.Provider value={{ score, setScore }}>\n          <Music gameStarted={gameStarted}/>\n          <div className=\"Game\">\n            <Lamp/>\n            {showControls && <Speech/>}\n            {!gameStarted && <button className=\"btn--stripe start-btn btn\" onClick={() => {\n              setGameStarted(true)\n            }}>Play</button>}\n          </div>\n          {showControls && <Buttons/>}\n\n\n        </ScoreContext.Provider>\n      </SpeechContextProvider>\n    </>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <link href=\"https://fonts.googleapis.com/css?family=Baloo+2:400,800\" rel=\"stylesheet\"/>\n    <div className=\"light bg\"/>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n//document.getElementById('root').classList.add('light');\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}