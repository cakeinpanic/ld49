(this["webpackJsonpunstable-game"]=this["webpackJsonpunstable-game"]||[]).push([[0],[,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t),t.default=a.p+"1e08c02ffb091b99fb2facf24618c7f8.mp3"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"ed14d2196c6a0a8bf20a14c8c076ddd8.mp3"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"e50d51ee58c6ec04b8cffdb182707bfa.mp3"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"786120ca73fc6fc78ce66d044b9d37d2.mp3"},function(e,t,a){"use strict";a.r(t),t.default=a.p+"de8730f7f67fb59b3387c7dab07f1b00.mp3"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,s=a(0),c=a.n(s),o=a(8),r=a.n(o),i=(a(14),a(2));a(7),a(15);function u(e){return e>=4.5?n.happy:e>=2.5?n.ok:e>=0?n.neutral:e>=-2.5?n.sad:n.nightmare}!function(e){e.happy="happy",e.ok="ok",e.neutral="neutral",e.sad="sad",e.nightmare="nightmare"}(n||(n={}));var l=c.a.createContext({score:0,lampState:n.neutral,setScore:function(){}}),d=a(9),b=a(1),f={currentPhraseIndex:0,setNextPhrase:function(){},getQuestion:function(){return"string"},getAnswers:function(){return[]}},j=[{question:"Hey...I'm Greg the Lamp",used:!1,answers:[{text:"Hi, Greg",score:0},{text:"I'm not interested",score:-2},{text:"You look sad, Greg, wanna talk?",score:3},{text:"Wow, talking lamp, lol",score:-1}]}].concat(Object(d.a)([{question:"I feel lonely",used:!1,answers:[{text:"Hug",score:2},{text:"Ignore",score:-2},{text:"Everyone's lonely...",score:-1},{text:"I'm lonely too",score:1}]},{question:"I feel abused, everyone uses me to get what they want!",used:!1,answers:[{text:"Hug",score:1},{text:"Turn him off",score:-4},{text:"...",score:-1},{text:"Your are helping people to see things at night or just to feel cozy, you are good lamp",score:3}]},{question:"I don't have any friends, why do other lamps avoid me?",used:!1,answers:[{text:"I'm not a lamp, but we can be friends",score:2},{text:"Nobody wanna be a friend with you, you are just an old lamp",score:-5},{text:"Start looking for another lamp",score:-2},{text:"Tell me more about other lamps, why do think so?",score:1}]}].map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})))),m=c.a.createContext(f);function p(e){e.setGameOver;var t=e.children,a=Object(s.useState)(0),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(b.jsx)(m.Provider,{value:{currentPhraseIndex:c,setNextPhrase:function(){j[c].used=!0,c===j.length-1?o(0):o(c+1)},getQuestion:function(){var e;return(null===(e=j[c])||void 0===e?void 0:e.question)||"Game over"},getAnswers:function(){var e;return(null===(e=j[c])||void 0===e?void 0:e.answers)||[]}},children:t})}function h(){var e=Object(s.useContext)(l),t=e.score,a=e.setScore,n=Object(s.useContext)(m),c=n.getAnswers,o=n.setNextPhrase;return Object(b.jsxs)("div",{className:"Buttons",children:[Object(b.jsxs)("div",{className:"score",children:["Score: ",t]}),c().map((function(e){return Object(b.jsx)("div",{className:"btn btn--stripe",onClick:function(){return n=e.score,a(t+n),void o();var n},children:e.text},e.text)}))]})}var g=c.a.createContext({});function O(e){var t=e.children,a=e.setAllIsLoaded,n=Object(s.useState)(!1),c=Object(i.a)(n,2),o=c[0],r=c[1],u=Object(s.useState)(!1),l=Object(i.a)(u,2),d=l[0],f=l[1];return Object(s.useEffect)((function(){o&&d&&setTimeout(a(o&&d),1e3)}),[o,d,a]),Object(b.jsx)(g.Provider,{value:{soundLoaded:r,imagesAreLoaded:f},children:t})}var v=a.p+"static/media/lamp.cf80ac2c.png",y=a.p+"static/media/light.59e00472.png",x=a.p+"static/media/medium_light.d3ef943c.png",k=a.p+"static/media/sad_lamp.d083bd5f.png",S=a.p+"static/media/sad_light.91eb97c4.png",w=(a(17),"lamp");function P(e){var t=Object(i.a)(e,2),a=t[0],n=t[1],s=Math.random()*(n-a)+a;return console.log(s,a,n),s}function C(){var e=Object(s.useContext)(l).lampState,t=Object(s.useRef)(),a=Object(s.useRef)(),c=Object(s.useCallback)((function(){var t=document.body,s=[100,200],o=[1e3,2e3];switch(e){case n.nightmare:s=[100,1500],o=[100,500];break;case n.sad:s=[200,500],o=[1e3,4e3];break;case n.neutral:s=[100,200],o=[5e3,8e3]}clearTimeout(a.current),e!==n.nightmare&&e!==n.sad&&e!==n.neutral||null===t||void 0===t||t.style.setProperty("--opacity-filter","0%"),setTimeout((function(){null===t||void 0===t||t.style.setProperty("--opacity-filter","100%"),a.current=setTimeout((function(){c()}),P(o))}),P(s))}),[e]),o=Object(s.useCallback)((function(){clearTimeout(t.current);var a=document.getElementById(w);e===n.ok||e===n.happy||e===n.neutral?(null===a||void 0===a||a.style.setProperty("--brightness",P([70,120])+"%"),null===a||void 0===a||a.style.setProperty("--hue",P([0,180])+"deg"),null===a||void 0===a||a.style.setProperty("--saturate",P([70,120])+"%")):(null===a||void 0===a||a.style.setProperty("--hue","0deg"),null===a||void 0===a||a.style.setProperty("--saturate","30%"));var s=[1e3,1e3];switch(e){case n.happy:s=[500,1e3];break;case n.ok:case n.neutral:s=[2e3,5e3]}t.current=setTimeout(o,P(s))}),[e]);Object(s.useEffect)((function(){o(),c(),function(e){var t=document.body;switch(e){case n.happy:case n.ok:case n.neutral:null===t||void 0===t||t.style.setProperty("--bg","#3d3d46");break;case n.sad:null===t||void 0===t||t.style.setProperty("--bg","#1d1d26");break;case n.nightmare:null===t||void 0===t||t.style.setProperty("--bg","#1a1a1d")}}(e)}),[e,o,c]);var r=Object(s.useContext)(g).imagesAreLoaded,u=Object(s.useState)(0),d=Object(i.a)(u,2),f=d[0],j=d[1],m=function(){j(f+1),4===f&&r&&r(!0)};return Object(b.jsxs)("div",{id:w,children:[Object(b.jsx)("img",{className:"img light",style:{opacity:e===n.happy||e===n.ok?void 0:0},src:y,onLoad:m}),Object(b.jsx)("img",{className:"img light",style:{opacity:e===n.neutral||e===n.sad?void 0:0},src:x,onLoad:m}),Object(b.jsx)("img",{className:"img lamp",style:{opacity:e!==n.nightmare?1:0},src:v,onLoad:m}),Object(b.jsx)("img",{className:"img light",style:{opacity:e===n.nightmare?void 0:0},src:S,onLoad:m}),Object(b.jsx)("img",{className:"img lamp",style:{opacity:e===n.nightmare?1:0},src:k,onLoad:m})]})}var N=a(3),I=a(18).default,L=a(19).default,E=a(20).default,T=a(21).default,A=a(22).default,G={loop:!0,soundEnabled:!0,volume:0};function F(e,t,a){a&&(a.playing(),e===t?a.fade(a.volume(),.35,800):a.fade(a.volume(),0,800))}function q(e){var t=e.gameStarted,a=Object(s.useContext)(l),c=(a.score,a.lampState),o=Object(s.useContext)(g).soundLoaded,r=Object(N.a)(I,G),u=Object(i.a)(r,2)[1].sound,d=Object(N.a)(L,G),f=Object(i.a)(d,2)[1].sound,j=Object(N.a)(E,G),m=Object(i.a)(j,2)[1].sound,p=Object(N.a)(T,G),h=Object(i.a)(p,2)[1].sound,O=Object(N.a)(A,G),v=Object(i.a)(O,2)[1].sound,y=Object(s.useState)(null),x=Object(i.a)(y,2),k=x[0],S=x[1];return Object(s.useEffect)((function(){"loaded"===(null===m||void 0===m?void 0:m.state())&&"loaded"===(null===h||void 0===h?void 0:h.state())&&"loaded"===(null===u||void 0===u?void 0:u.state())&&"loaded"===(null===f||void 0===f?void 0:f.state())&&"loaded"===(null===v||void 0===v?void 0:v.state())&&o&&o(!0)}),[o,m,v,u,f,h]),Object(s.useEffect)((function(){t&&S(c)}),[c,t]),Object(s.useEffect)((function(){F(k,n.neutral,m),F(k,n.nightmare,u),F(k,n.sad,f),F(k,n.ok,h),F(k,n.happy,v)}),[k,m,v,h,f,u]),Object(b.jsx)(b.Fragment,{})}a(23);function B(){var e=Object(s.useContext)(l),t=(e.score,e.setScore,Object(s.useContext)(m).getQuestion);return Object(b.jsx)("div",{className:"speech-container",children:Object(b.jsx)("div",{className:"speech",children:t()})})}var H=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),o=Object(i.a)(c,2),r=o[0],d=o[1],f=Object(s.useState)(0),j=Object(i.a)(f,2),m=j[0],g=j[1],v=Object(s.useState)(!1),y=Object(i.a)(v,2),x=y[0],k=y[1];return Object(s.useEffect)((function(){a&&d(!0)}),[a]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(O,{setAllIsLoaded:k,children:Object(b.jsx)(p,{setGameOver:function(){},children:Object(b.jsxs)(l.Provider,{value:{score:m,setScore:g,lampState:u(m)},children:[Object(b.jsx)(q,{gameStarted:a}),!x&&Object(b.jsx)("button",{className:"loading-btn btn--stripe btn",children:"Loading..."}),Object(b.jsxs)("div",{className:"Game",style:{opacity:x?1:0},children:[Object(b.jsx)(C,{}),r&&Object(b.jsx)(B,{}),!a&&Object(b.jsx)("button",{className:"btn--stripe start-btn btn",onClick:function(){n(!0)},children:"Play"})]}),r&&Object(b.jsx)(h,{})]})})})})},M=function(e){e&&e instanceof Function&&a.e(4).then(a.bind(null,27)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),c(e),o(e)}))};r.a.render(Object(b.jsxs)(c.a.StrictMode,{children:[Object(b.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Baloo+2:400,800",rel:"stylesheet"}),Object(b.jsx)("div",{className:"light bg"}),Object(b.jsx)(H,{})]}),document.getElementById("root")),M()}],[[24,1,2]]]);
//# sourceMappingURL=main.29298d85.chunk.js.map