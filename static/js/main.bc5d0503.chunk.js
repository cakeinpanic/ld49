(this["webpackJsonpunstable-game"]=this["webpackJsonpunstable-game"]||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7996cac1b26fae126a7dd755e81b8bd5.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"79d6aa22a56ba0eefca5264ab19ec041.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"66e632a447f6d371ca2beffc4f63eea6.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"71b1c2271b686b9c8bd56c25ec9cc799.mp3"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"503550ede9d1120e68dc8e47ec724ea1.mp3"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(8),o=n.n(a),r=(n(14),n(2)),i=(n(7),n(15),s.a.createContext({score:0,setScore:function(){}})),u=n(9),l=n(1),d={currentPhraseIndex:0,setNextPhrase:function(){},getQuestion:function(){return"string"},getAnswers:function(){return[]}},b=[{question:"Hey...I'm Greg the Lamp",used:!1,answers:[{text:"Hi, Greg",score:0},{text:"I'm not interested",score:-2},{text:"You look sad, Greg, wanna talk?",score:3},{text:"Wow, talking lamp, lol",score:-1}]}].concat(Object(u.a)([{question:"I feel lonely",used:!1,answers:[{text:"Hug",score:2},{text:"Ignore",score:-2},{text:"Everyone's lonely...",score:-1},{text:"I'm lonely too",score:1}]}].map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})))),j=s.a.createContext(d);function f(e){e.setGameOver;var t=e.children,n=Object(c.useState)(0),s=Object(r.a)(n,2),a=s[0],o=s[1];return Object(l.jsx)(j.Provider,{value:{currentPhraseIndex:a,setNextPhrase:function(){b[a].used=!0,a===b.length-1?o(0):o(a+1)},getQuestion:function(){var e;return(null===(e=b[a])||void 0===e?void 0:e.question)||"Game over"},getAnswers:function(){var e;return(null===(e=b[a])||void 0===e?void 0:e.answers)||[]}},children:t})}function m(){var e=Object(c.useContext)(i),t=e.score,n=e.setScore,s=Object(c.useContext)(j),a=s.getAnswers,o=s.setNextPhrase;return Object(l.jsxs)("div",{className:"Buttons",children:[Object(l.jsxs)("div",{className:"score",children:["Score: ",t]}),a().map((function(e){return Object(l.jsx)("div",{className:"btn btn--stripe",onClick:function(){return c=e.score,n(t+c),void o();var c},children:e.text},e.text)}))]})}var O=s.a.createContext({});function p(e){var t=e.children,n=e.setAllIsLoaded,s=Object(c.useState)(!1),a=Object(r.a)(s,2),o=a[0],i=a[1],u=Object(c.useState)(!1),d=Object(r.a)(u,2),b=d[0],j=d[1];return Object(c.useEffect)((function(){setTimeout(n(o&&b),1e3)}),[o,b,n]),Object(l.jsx)(O.Provider,{value:{soundLoaded:i,imagesAreLoaded:j},children:t})}var g=n.p+"static/media/lamp.cf80ac2c.png",v=n.p+"static/media/light.59e00472.png",x=n.p+"static/media/medium_light.d3ef943c.png",h=n.p+"static/media/sad_lamp.d083bd5f.png",y=n.p+"static/media/sad_light.91eb97c4.png",S=(n(17),"lamp");function N(e,t){return Math.random()*(t-e)+e}function C(e){var t=document.getElementById(S);setTimeout((function(){null===t||void 0===t||t.style.setProperty("--brightness",N(70,120)+"%"),null===t||void 0===t||t.style.setProperty("--hue",N(0,180)+"deg"),null===t||void 0===t||t.style.setProperty("--saturate",N(70,120)+"%"),C(N(1e3,1e4))}),e)}function P(){var e=document.getElementById(S);null===e||void 0===e||e.style.setProperty("--opacity","0%"),setTimeout((function(){null===e||void 0===e||e.style.setProperty("--opacity","100%"),setTimeout((function(){P()}),N(1e3,1e4))}),N(100,200))}function L(){C(0),P();var e=Object(c.useContext)(i).score,t=Object(c.useState)(!1),n=Object(r.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)(!1),u=Object(r.a)(o,2),d=u[0],b=u[1],j=Object(c.useState)(!1),f=Object(r.a)(j,2),m=f[0],p=f[1],N=Object(c.useContext)(O).imagesAreLoaded,L=Object(c.useState)(0),I=Object(r.a)(L,2),k=I[0],E=I[1];Object(c.useEffect)((function(){p(!1),b(!1),a(!1),e>2?a(!0):e>-1?b(!0):p(!0)}),[e]);var w=function(){E(k+1),4===k&&N&&N(!0)};return Object(l.jsxs)("div",{id:S,children:[Object(l.jsx)("img",{className:"img light",style:{opacity:s?1:0},src:v,onLoad:w}),Object(l.jsx)("img",{className:"img light",style:{opacity:d?1:0},src:x,onLoad:w}),Object(l.jsx)("img",{className:"img lamp",style:{opacity:s||d?1:0},src:g,onLoad:w}),Object(l.jsx)("img",{className:"img light",style:{opacity:m?1:0},src:y,onLoad:w}),Object(l.jsx)("img",{className:"img lamp",style:{opacity:m?1:0},src:h,onLoad:w})]})}var I,k=n(3);!function(e){e.happy="happy",e.ok="ok",e.neutral="neutral",e.sad="sad",e.nightmare="nightmare"}(I||(I={}));var E=n(18).default,w=n(19).default,A=n(20).default,G=n(21).default,B=n(22).default,F={loop:!0,soundEnabled:!0,volume:0};function T(e,t,n){n&&(n.playing()||n.play(),e===t?n.fade(n.volume(),.2,500):n.fade(n.volume(),0,500))}function q(e){var t=e.gameStarted,n=Object(c.useContext)(i).score,s=Object(c.useContext)(O).soundLoaded,a=Object(k.a)(E,F),o=Object(r.a)(a,2)[1].sound,u=Object(k.a)(w,F),d=Object(r.a)(u,2)[1].sound,b=Object(k.a)(A,F),j=Object(r.a)(b,2)[1].sound,f=Object(k.a)(G,F),m=Object(r.a)(f,2)[1].sound,p=Object(k.a)(B,F),g=Object(r.a)(p,2)[1].sound,v=Object(c.useState)(null),x=Object(r.a)(v,2),h=x[0],y=x[1];return Object(c.useEffect)((function(){"loaded"===(null===j||void 0===j?void 0:j.state())&&"loaded"===(null===m||void 0===m?void 0:m.state())&&"loaded"===(null===o||void 0===o?void 0:o.state())&&"loaded"===(null===d||void 0===d?void 0:d.state())&&"loaded"===(null===g||void 0===g?void 0:g.state())&&s&&s(!0)}),[s,j,g,o,d,m]),Object(c.useEffect)((function(){t&&n>2.5&&y(function(e){return e>4.5?I.happy:e>2.5?I.ok:e>0?I.neutral:e>-2.5?I.sad:I.nightmare}(n))}),[n,t]),Object(c.useEffect)((function(){T(h,I.neutral,j),T(h,I.nightmare,o),T(h,I.sad,d),T(h,I.ok,m),T(h,I.happy,g)}),[h,j,g,m,d,o]),Object(l.jsx)(l.Fragment,{})}n(23);function H(){var e=Object(c.useContext)(i),t=(e.score,e.setScore,Object(c.useContext)(j).getQuestion);return Object(l.jsx)("div",{className:"speech-container",children:Object(l.jsx)("div",{className:"speech",children:t()})})}var M=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),o=Object(r.a)(a,2),u=o[0],d=o[1],b=Object(c.useState)(0),j=Object(r.a)(b,2),O=j[0],g=j[1],v=Object(c.useState)(!1),x=Object(r.a)(v,2),h=x[0],y=x[1];return Object(c.useEffect)((function(){n&&d(!0)}),[n]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p,{setAllIsLoaded:y,children:Object(l.jsx)(f,{setGameOver:function(){},children:Object(l.jsxs)(i.Provider,{value:{score:O,setScore:g},children:[Object(l.jsx)(q,{gameStarted:n}),!h&&Object(l.jsx)("button",{className:"loading-btn btn--stripe btn",children:"Loading..."}),Object(l.jsxs)("div",{className:"Game",style:{opacity:h?1:0},children:[Object(l.jsx)(L,{}),u&&Object(l.jsx)(H,{}),!n&&Object(l.jsx)("button",{className:"btn--stripe start-btn btn",onClick:function(){s(!0)},children:"Play"})]}),u&&Object(l.jsx)(m,{})]})})})})},Q=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};o.a.render(Object(l.jsxs)(s.a.StrictMode,{children:[Object(l.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Baloo+2:400,800",rel:"stylesheet"}),Object(l.jsx)("div",{className:"light bg"}),Object(l.jsx)(M,{})]}),document.getElementById("root")),Q()}],[[24,1,2]]]);
//# sourceMappingURL=main.bc5d0503.chunk.js.map