{"version":3,"sources":["assets/ludum_dare_beta_-5.mp3","assets/ludum_dare_beta_-2.5.mp3","assets/ludum_dare_beta_0.mp3","assets/ludum_dare_beta_2.5.mp3","assets/ludum_dare_beta_5.mp3","assets/ludum_dare_beta_plus.mp3","assets/ludum_dare_beta_minus.mp3","lampState.enum.ts","context/score.context.ts","PHRASES.ts","context/speech.context.tsx","Buttons.tsx","context/loaded.context.tsx","Doors.tsx","assets/lamp.png","assets/light.png","assets/medium_light.png","assets/sad_lamp.png","assets/sad_light.png","hooks/bgColor.hook.ts","hooks/hook.utils.ts","hooks/lightScenarios.ts","hooks/lightTransitions.hook.ts","Speech.tsx","Lamp.tsx","hooks/lightBlink.hook.ts","Music.tsx","assets/mute.png","App.tsx","reportWebVitals.js","index.js"],"names":["eLampState","getStateByScore","score","happy","ok","neutral","sad","nightmare","ScoreContext","React","createContext","isGameOver","lampState","setScore","WIN_PHRASE","used","LOOSE_PHRASE","BORING_PHRASE","initialState","currentPhraseIndex","setNextPhrase","getQuestion","getAnswers","PHRASES","text","map","value","sort","Math","random","a","b","SpeechContext","SpeechContextProvider","setGameOver","children","useContext","useState","setCurrentPhraseIndex","Provider","length","question","answers","Buttons","doRestartGame","className","onClick","answerScore","LoadedContext","LoadedContextProvider","setAllIsLoaded","sound","setSound","images","setImages","useEffect","setTimeout","soundLoaded","imagesAreLoaded","Doors","onStart","allIsLoaded","isStarted","setIsStarted","root","document","body","style","setProperty","opacity","bottom","rel","target","href","useBgColor","start","end","setBgColor","getRandomBetween","min","max","NIGTHMARE_BLINK_SCENARIO","time","SAD_BLINK_SCENARIO","NEUTRAL_BLINK_SCENARIO","NO_BLINK_SCENARIO","useLightTransitions","timeoutRef","useRef","changeColor","useCallback","clearTimeout","current","getElementById","hue","brightness","setProps","nextChange","Speech","Lamp","showControls","blinkTimeoutRef","scenario","setScenario","nextStep","setNextStep","blink","useLightBlink","loadedCount","setLoadedCount","imgLoaded","id","state","lampStateToRender","lampImg","lightImg","sadLamp","sadLight","lamp","mediumLight","light","src","onLoad","getLampImage","require","default","plus","minus","params","loop","soundEnabled","volume","doSound","currentSound","soundState","howlerObject","isAllMuted","fade","Music","gameStarted","setIsAllMuted","useSound","nightmareSound","sadSound","neutralSound","okSound","happySound","plusJingle","minusJingle","setCurrentSound","prevScore","play","localStorage","getItem","setItem","App","setGameStarted","showDoor","setShowDoor","setShowControls","setLampState","setIsGameOver","join","location","reload","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","xmlns","version","display","baseFrequency","numOctaves","result","seed","in","in2","scale"],"mappings":"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","file":"static/js/main.f8c736b5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"1e08c02ffb091b99fb2facf24618c7f8.mp3\";","export default __webpack_public_path__ + \"ed14d2196c6a0a8bf20a14c8c076ddd8.mp3\";","export default __webpack_public_path__ + \"e50d51ee58c6ec04b8cffdb182707bfa.mp3\";","export default __webpack_public_path__ + \"786120ca73fc6fc78ce66d044b9d37d2.mp3\";","export default __webpack_public_path__ + \"de8730f7f67fb59b3387c7dab07f1b00.mp3\";","export default __webpack_public_path__ + \"2547c50ab2ea29129121bb2e92415d91.mp3\";","export default __webpack_public_path__ + \"2ab3acbb7166e282f2465998f93c1c7e.mp3\";","export enum eLampState {\n  happy = 'happy', ok = 'ok', neutral = 'neutral', sad = 'sad', nightmare = 'nightmare'\n}\n\nexport function getStateByScore(score: number): eLampState {\n  if (score >= 4.5) {\n    return eLampState.happy\n  }\n  if (score >= 2.5) {\n    return (eLampState.ok)\n  }\n\n  if (score >= 0) {\n    return (eLampState.neutral)\n  }\n\n  if (score >= -2.5) {\n    return (eLampState.sad)\n  }\n\n  return (eLampState.nightmare)\n\n}\n","import React from 'react'\nimport { eLampState } from '../lampState.enum'\n\nexport interface IContext {\n  score: number,\n  lampState: eLampState,\n  setScore: Function\n  isGameOver: boolean\n}\n\nexport const ScoreContext = React.createContext<IContext>({ score: 0,isGameOver: false, lampState: eLampState.neutral, setScore: () => {} })\n","export interface IState {\n  question: string,\n  used: boolean,\n  answers: IAnswer[]\n}\nexport interface IAnswer { text: string, score: number }\nexport const FIRST_PHRASE: IState = {\n  'question': 'Hey...I\\'m Greg the Lamp',\n  used: false,\n  'answers': [\n    {\n      'text': 'Hi, Greg',\n      'score': 0\n    },\n    {\n      'text': 'I\\'m not interested',\n      'score': -1\n    },\n    {\n      'text': 'You look sad, Greg, wanna talk?',\n      'score': .5\n    },\n    {\n      'text': 'Wow, talking lamp, lol',\n      'score': -.5\n    }\n  ]\n}\nexport const WIN_PHRASE: IState = {\n  'question': 'Thank you, really, thank you! I was so unstable, I thought I\\'m gonna die from loneliness. But now I believe in my future',\n  used: false,\n  'answers': [\n    {\n      'text': 'Bye, Greg! It was so nice meeting you. I\\'m glad I helped! Let\\'s chat again, I enjoyed it',\n      'score': 0\n    },\n\n  ]\n}\n\nexport const LOOSE_PHRASE: IState = {\n  'question': 'I was unstable in the beginning, but now I am just dead, just dead, I can not move, I can not light. I will stay here on the floor forever',\n  used: false,\n  'answers': [\n    {\n      'text': 'Oh no, did I really make you so desperate by only few words I said?\\nAre words SO powerful?\\nI want to try again',\n      'score': 0\n    },\n\n  ]\n}\nexport const BORING_PHRASE: IState = {\n  'question': 'I was so unstable in the beginning, and hoped that you could help me, but looks like I\\'m just a useless lamp and there is no chance for me to feel needed',\n  used: false,\n  'answers': [\n    {\n      'text': 'Greg, you are mistaken, you are needed and loved, I want to chat with you more to prove it',\n      'score': 0\n    },\n\n  ]\n}\n\n\nexport const REST_PHRASES: IState[] = [\n  {\n    'question': 'I feel lonely',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 1\n      },\n      {\n        'text': 'Ignore',\n        'score': -1\n      },\n      {\n        'text': 'Everyone\\'s lonely...',\n        'score': -.5\n      },\n      {\n        'text': 'I\\'m lonely too',\n        'score': .5\n      }\n    ]\n  },\n  {\n    'question': 'I feel abused, everyone uses me to get what they want!',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 1\n      },\n      {\n        'text': 'Turn him off',\n        'score': -1\n      },\n      {\n        'text': '...',\n        'score': -.5\n      },\n      {\n        'text': 'Your are helping people to see things at night or just to feel cozy, you are good lamp',\n        'score': 1\n      }\n    ]\n  },\n  {\n    'question': 'I don\\'t have any friends, why do other lamps avoid me?',\n    used: false,\n    'answers': [\n      {\n        text: 'I\\'m not a lamp, but we can be friends',\n        'score': 1\n      },\n      {\n        'text': 'Nobody wanna be a friend with you, you are just an old lamp',\n        'score': -2\n      },\n      {\n        'text': 'Start looking for another lamp',\n        'score': -1\n      },\n      {\n        'text': 'Tell me more about other lamps. Why do think so?',\n        'score': .5\n      }\n    ]\n  },\n  {\n    'question': 'Sometimes I think about changing my job. Is it real for lamp like me to become a game dev?',\n    used: false,\n    'answers': [\n      {\n        text: 'Nah, you should be good at math',\n        'score': -2\n      },\n      {\n        'text': 'Hug',\n        'score': -0.5\n      },\n      {\n        'text': 'I heard that they have a nice salary',\n        'score': -1\n      },\n      {\n        'text': 'You should give it a try. I belive in you.',\n        'score': 1\n      }\n    ]\n  },\n  {\n    'question': 'They keep forgeting to turn me off, I can burn out!',\n    used: false,\n    'answers': [\n      {\n        text: 'I don\\'t know. You should ask your them, not me',\n        'score': -1\n      },\n      {\n        'text': 'I thought you like your work',\n        'score': -2\n      },\n      {\n        'text': '...',\n        'score': 0\n      },\n      {\n        'text': 'You should not wait for their attention. You are just a lamp',\n        'score': -2\n      }\n    ]\n  },\n  {\n    'question': 'Smart lamps?! Why do they buy them? Am I stupid to you?',\n    used: false,\n    'answers': [\n      {\n        text: 'You could ask google if you had wifi',\n        'score': -3\n      },\n      {\n        'text': 'People appreciate your warm light, have you notice that?',\n        'score': 1\n      },\n      {\n        'text': 'You are just to old to get it',\n        'score': -2\n      },\n      {\n        'text': 'You just different, there are not better than you',\n        'score': 0.5\n      }\n    ]\n  },\n]\n","import React, { useContext, useState } from 'react'\nimport { eLampState } from '../lampState.enum'\nimport { BORING_PHRASE, FIRST_PHRASE, IAnswer, IState, LOOSE_PHRASE, REST_PHRASES, WIN_PHRASE } from '../PHRASES'\nimport { ScoreContext } from './score.context'\n\nexport interface ISpeechContext {\n  currentPhraseIndex: number\n  setNextPhrase: Function\n  getQuestion: () => string\n  getAnswers: () => IAnswer[],\n}\n\nconst initialState = {\n  currentPhraseIndex: 0,\n  setNextPhrase: () => {},\n  getQuestion: () => 'string',\n  getAnswers: () => [],\n}\n\nconst shuffle = (arr: any[]) => {\n  return arr\n    .map((value) => ({ value, sort: Math.random() }))\n    .sort((a, b) => a.sort - b.sort)\n    .map(({ value }) => value)\n}\nconst PHRASES: IState[] = [FIRST_PHRASE, ...shuffle(REST_PHRASES)]\n\nexport const SpeechContext = React.createContext<ISpeechContext>(initialState)\n\nexport function SpeechContextProvider({\n                                        isGameOver,\n                                        setGameOver,\n                                        children\n                                      }: { isGameOver: boolean, setGameOver: Function, children: any }) {\n  const { lampState } = useContext(ScoreContext)\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0)\n\n  const setNextPhrase = () => {\n    PHRASES[currentPhraseIndex].used = true\n    if (currentPhraseIndex === PHRASES.length - 1) {\n      setGameOver()\n    } else {\n      setCurrentPhraseIndex(currentPhraseIndex + 1)\n    }\n  }\n\n  return (\n    <SpeechContext.Provider value={\n      {\n        currentPhraseIndex, setNextPhrase,\n        getQuestion: () => {\n          let phrase: IState\n          if (isGameOver) {\n            phrase = lampState === eLampState.nightmare ? LOOSE_PHRASE :\n              (lampState === eLampState.happy ? WIN_PHRASE : BORING_PHRASE)\n          } else {\n            phrase = PHRASES[currentPhraseIndex]\n          }\n\n          return phrase?.question\n        },\n        getAnswers: () => {\n          let phrase: IState\n          if (isGameOver) {\n            phrase = lampState === eLampState.nightmare ? LOOSE_PHRASE :\n              (lampState === eLampState.happy ? WIN_PHRASE : BORING_PHRASE)\n          } else {\n            phrase = PHRASES[currentPhraseIndex]\n          }\n          return phrase?.answers || []\n        }\n      }\n    }>\n      {children}\n    </SpeechContext.Provider>\n  )\n}\n","import { useContext } from 'react'\nimport './Buttons.css'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Buttons({doRestartGame}:{doRestartGame: Function}) {\n  const { score, setScore, isGameOver } = useContext(ScoreContext)\n  const { getAnswers, setNextPhrase } = useContext(SpeechContext)\n\n  const clicked = (answerScore: number) => {\n    if(isGameOver){\n      doRestartGame()\n      return\n    }\n    setScore(score + answerScore)\n    setNextPhrase()\n  }\n\n  return (\n    <>\n      {/*<div className=\"debug\">*/}\n      {/*  <div className=\"btn btn--stripe\" onClick={() => clicked(-1)}>minus</div>*/}\n      {/*  <div className=\"btn btn--stripe\" onClick={() => clicked(1)}>plus</div>*/}\n\n      {/*  <div className=\"score\">Score: {score}</div>*/}\n      {/*</div>*/}\n    <div className={\"Buttons \" + (isGameOver ? 'gameover': '')}>\n\n      {\n        getAnswers()\n          .map(\n            a => <div className=\"btn btn--stripe\" key={a.text}\n                      onClick={() => clicked(a.score)}>{a.text}</div>)\n      }\n    </div>\n      </>\n  )\n}\n\n","import React, { useEffect, useState } from 'react'\n\nexport interface ILoadedContext {\n  soundLoaded?: Function\n  imagesAreLoaded?: Function\n}\n\nexport const LoadedContext = React.createContext<ILoadedContext>({})\n\nexport function LoadedContextProvider({ children, setAllIsLoaded }: { children: any, setAllIsLoaded: Function }) {\n  const [sound, setSound] = useState(false)\n  const [images, setImages] = useState(false)\n\n  useEffect(() => {\n    if(sound && images){\n      setTimeout(setAllIsLoaded(sound && images), 1000)\n    }\n  }, [sound, images, setAllIsLoaded])\n\n  return (\n    <LoadedContext.Provider value={\n      {\n        soundLoaded: setSound,\n        imagesAreLoaded: setImages,\n      }\n    }>\n      {children}\n    </LoadedContext.Provider>\n  )\n}\n","import React, { useState } from 'react'\nimport './Doors.css'\n\nexport const Doors = ({ onStart, allIsLoaded }: { allIsLoaded: boolean,onStart: Function }) => {\nconst [isStarted, setIsStarted] =useState(false)\n  const start = () => {\n    const root = document.body\n    root?.style.setProperty('--anim', 'infinite')\n    onStart()\n    setIsStarted(true)\n  }\n\n  return (<>\n    <div className=\"doors-container\">\n      <div className='door' onClick={start}>\n        <div className='face'>\n           <button style={{opacity: allIsLoaded ? '100%':'0%'}}className=\"loading-btn btn--stripe btn\">\n            Start\n          </button>\n\n           <div style={{opacity: !allIsLoaded ? '100%':'0%'}}className=\"loading-btn btn\">\n            Loading...\n          </div>\n\n          <div className='right'></div>\n        </div>\n      </div>\n\n\n    </div>\n      <button className=\"welcome-btn  btn\"  style={{opacity: isStarted ? '0':'100%', bottom: isStarted ? '20px': '60px'}}>\n       Hi, this is a small cozy game about unstable emotions and things that surround us.<br/><br/>  It was designed to be played with sound turned on, moreover sound makes the gamplay whole. <br/> Please turn it on ❤️\n        <br/><br/>\n        <span className=\"ref\">Developed for <a rel=\"noreferrer\"  target=\"_blank\" href=\"https://ldjam.com/events/ludum-dare/49\">ludum dare 49 game jam</a></span>\n      </button>\n    </>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/lamp.cf80ac2c.png\";","export default __webpack_public_path__ + \"static/media/light.59e00472.png\";","export default __webpack_public_path__ + \"static/media/medium_light.d3ef943c.png\";","export default __webpack_public_path__ + \"static/media/sad_lamp.d083bd5f.png\";","export default __webpack_public_path__ + \"static/media/sad_light.91eb97c4.png\";","import { useEffect } from 'react'\nimport { eLampState } from '../lampState.enum'\n\nfunction setBgColor(lampState: eLampState, isGameOver: boolean) {\n  const root = document.body\n  let start = 10\n  let end = 80\n  let opacity = 100\n\n  switch (lampState) {\n    case eLampState.happy:\n      if(isGameOver){\n        start = 80\n        end = 100\n        opacity = 0\n        break\n      }\n      start = 56\n      end = 80\n      opacity = 50\n      break\n    case eLampState.ok:\n      start = 40\n      end = 80\n      opacity = 60\n      break\n    case eLampState.neutral:\n      start = 30\n      end = 80\n      opacity = 70\n      break\n    case eLampState.sad:\n      start = 30\n      end = 80\n      opacity = 90\n      break\n    case eLampState.nightmare:\n      if(isGameOver){\n        start = 0\n        end = 100\n        opacity = 100;\n        root?.style.setProperty('--bg', '#0e0e15')\n\n        break\n      }\n      start = 10\n      end = 80\n      opacity = 100\n      break\n  }\n\n  root?.style.setProperty('--darkness-start', start + '%')\n  root?.style.setProperty('--darkness-end', end + '%')\n  root?.style.setProperty('--darkness-opacity', opacity + '%')\n}\n\nexport const useBgColor = (lampState: eLampState,isGameOver: boolean) => {\n  useEffect(() => {\n    setBgColor(lampState,isGameOver)\n  }, [lampState, isGameOver])\n}\n","export const LAMP_ID = 'lamp'\n\nexport function getRandomBetween([min, max]: number[]) {\n  const random = Math.random() * (max - min) + min\n\n  return random\n}\n","export const NIGTHMARE_BLINK_SCENARIO = [\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 100},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 100},\n  {opacity: 0, time: 200},\n  {opacity: 100, time: 200},\n  {opacity: 0, time: 500},\n  {opacity: 100, time: 5000},\n]\nexport const SAD_BLINK_SCENARIO = [\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000},\n  {opacity: 0, time: 300},\n  {opacity: 100, time: 100},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1500},\n  {opacity: 0, time: 200},\n  {opacity: 100, time: 2000},\n]\nexport const NEUTRAL_BLINK_SCENARIO = [\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 2000},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000}\n]\n\nexport const NO_BLINK_SCENARIO = [\n  {opacity: 100, time: 5000},\n  {opacity: 100, time: 5000}\n]\n\n\n","import { useCallback, useEffect, useRef } from 'react'\nimport { eLampState } from '../lampState.enum'\nimport { getRandomBetween, LAMP_ID } from './hook.utils'\n\nfunction setProps(lampState: eLampState) {\n  const root = document.getElementById('root')\n\n  if (lampState === eLampState.ok || lampState === eLampState.happy || lampState === eLampState.neutral) {\n    const hue = lampState === eLampState.ok ? getRandomBetween([0, 180]) : getRandomBetween([70, 150])\n    const brightness = lampState === eLampState.happy ? getRandomBetween([70, 120]) : getRandomBetween([60, 90])\n\n    root?.style.setProperty('--brightness', brightness + '%')\n    root?.style.setProperty('--hue', hue + 'deg')\n    root?.style.setProperty('--saturate', getRandomBetween([90, 110]) + '%')\n  } else {\n    root?.style.setProperty('--hue', 0 + 'deg')\n    root?.style.setProperty('--saturate', 30 + '%')\n  }\n}\n\nexport const useLightTransitions = (lampState: eLampState, isGameOver: boolean) => {\n  const timeoutRef = useRef<any>()\n\n  const changeColor = useCallback(() => {\n    clearTimeout(timeoutRef.current)\n    setProps(lampState)\n\n    let nextChange = [1000, 1000]\n\n    switch (lampState) {\n      case eLampState.happy:\n        nextChange = [500, 1000]\n        break\n      case eLampState.ok:\n        nextChange = [2000, 5000]\n        break\n      case eLampState.neutral:\n        nextChange = [2000, 5000]\n        break\n    }\n\n    timeoutRef.current = setTimeout(changeColor, getRandomBetween(nextChange))\n  }, [lampState])\n\n  useEffect(() => {\n    changeColor()\n  }, [lampState, changeColor])\n\n  return timeoutRef.current\n}\n","import { useContext } from 'react'\nimport { ScoreContext } from './context/score.context'\nimport './Speech.css'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Speech() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getQuestion } = useContext(SpeechContext)\n\n  return (\n\n    <div className=\"speech-container\">\n      <div className=\"speech\">\n        {getQuestion()}\n      </div>\n    </div>\n  )\n}\n\n","import React, { useContext, useEffect, useState } from 'react'\nimport lamp from './assets/lamp.png'\nimport light from './assets/light.png'\nimport mediumLight from './assets/medium_light.png'\nimport sadLamp from './assets/sad_lamp.png'\nimport sadLight from './assets/sad_light.png'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { useBgColor } from './hooks/bgColor.hook'\nimport { LAMP_ID } from './hooks/hook.utils'\nimport { useLightBlink } from './hooks/lightBlink.hook'\nimport { useLightTransitions } from './hooks/lightTransitions.hook'\nimport './Lamp.css'\nimport { eLampState } from './lampState.enum'\nimport { Speech } from './Speech'\n\nexport function Lamp({showControls}: {showControls:boolean}) {\n  const { lampState,isGameOver } = useContext(ScoreContext)\n\n  useLightTransitions(lampState, isGameOver)\n  useLightBlink(lampState, isGameOver)\n  useBgColor(lampState, isGameOver)\n\n  const { imagesAreLoaded } = useContext(LoadedContext)\n  const [loadedCount, setLoadedCount] = useState(0)\n\n  const imgLoaded = () => {\n    setLoadedCount(loadedCount + 1)\n  }\n\n  useEffect(() => {\n    if (loadedCount === 2 * 5) {\n      imagesAreLoaded && imagesAreLoaded(true)\n    }\n  }, [loadedCount, imagesAreLoaded])\n\n  const getLampImage = (lampStateToRender: eLampState) => {\n    let opacity\n    let lampImg\n    let lightImg\n    opacity = (lampState === lampStateToRender) ? 1 : 0\n    switch (lampStateToRender) {\n      case eLampState.nightmare:\n        lampImg = sadLamp\n        lightImg = sadLight\n        break\n      case eLampState.sad:\n      case eLampState.neutral:\n        lampImg = lamp\n        lightImg = mediumLight\n        break\n      case eLampState.ok:\n      case eLampState.happy:\n        lightImg = light\n        lampImg = lamp\n        break\n    }\n    return (\n      <div style={{ opacity }} key={lampStateToRender} className=\"lamp-container\">\n        <img className=\"img light\" src={lightImg} onLoad={imgLoaded}/>\n        <img className=\"img lamp\" src={lampImg} onLoad={imgLoaded}/>\n      </div>\n    )\n  }\n\n  return (\n    <div id={LAMP_ID}>\n      {[eLampState.nightmare, eLampState.sad, eLampState.neutral, eLampState.ok, eLampState.happy].map(\n        state => getLampImage(state))}\n      {showControls && <Speech/>}\n    </div>\n\n  )\n}\n\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { eLampState } from '../lampState.enum'\nimport {\n  NEUTRAL_BLINK_SCENARIO,\n  NIGTHMARE_BLINK_SCENARIO,\n  NO_BLINK_SCENARIO,\n  SAD_BLINK_SCENARIO\n} from './lightScenarios'\n\nexport const useLightBlink = (lampState: eLampState, isGameOver: boolean) => {\n\n  const blinkTimeoutRef = useRef<any>()\n  const [scenario, setScenario] = useState(SAD_BLINK_SCENARIO)\n  const [nextStep, setNextStep] = useState(0)\n\n  const blink = useCallback(() => {\n    const root = document.body\n    clearTimeout(blinkTimeoutRef.current)\n    if (isGameOver) {\n      if (lampState === eLampState.nightmare) {\n        root?.style.setProperty('--opacity', 0 + '%')\n      } else {\n        root?.style.setProperty('--opacity', 100 + '%')\n      }\n      return\n    }\n    root?.style.setProperty('--opacity', scenario[nextStep].opacity + '%')\n\n    blinkTimeoutRef.current = setTimeout(() => {\n      setNextStep((nextStep + 1) % scenario.length)\n    }, scenario[nextStep].time)\n  }, [scenario, nextStep, isGameOver, lampState])\n\n  useEffect(() => {\n    let scenario: any\n    switch (lampState) {\n      case eLampState.happy:\n      case eLampState.ok:\n        scenario = NO_BLINK_SCENARIO\n        break\n      case eLampState.neutral:\n        scenario = NEUTRAL_BLINK_SCENARIO\n        break\n      case eLampState.sad:\n        scenario = SAD_BLINK_SCENARIO\n        break\n      case eLampState.nightmare:\n        scenario = NIGTHMARE_BLINK_SCENARIO\n        break\n    }\n    setScenario(scenario)\n    if (nextStep % 2) {\n      setNextStep(1)\n    } else {\n      setNextStep(0)\n    }\n  }, [lampState, nextStep, isGameOver])\n\n  useEffect(() => {\n    blink()\n  }, [blink])\n\n}\n","import { useContext, useEffect, useRef, useState } from 'react'\nimport useSound from 'use-sound'\nimport './App.css'\nimport mute from './assets/mute.png'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { eLampState } from './lampState.enum'\n\nconst nightmare = require('./assets/ludum_dare_beta_-5.mp3').default\nconst sad = require('./assets/ludum_dare_beta_-2.5.mp3').default\nconst neutral = require('./assets/ludum_dare_beta_0.mp3').default\nconst ok = require('./assets/ludum_dare_beta_2.5.mp3').default\nconst happy = require('./assets/ludum_dare_beta_5.mp3').default\n\nconst plus = require('./assets/ludum_dare_beta_plus.mp3').default\nconst minus = require('./assets/ludum_dare_beta_minus.mp3').default\n\nconst VOLUME = .3\nconst FADE_DURATION = 800\nconst params = { loop: true, soundEnabled: true, volume: 0 }\n\nfunction doSound(currentSound: eLampState | null, soundState: eLampState, howlerObject: any, isAllMuted: boolean) {\n  if (!howlerObject) {\n    return\n  }\n  if (currentSound === soundState && !isAllMuted) {\n    howlerObject.fade(howlerObject.volume(), VOLUME, FADE_DURATION)\n  } else {\n    howlerObject.fade(howlerObject.volume(), 0, FADE_DURATION)\n  }\n}\n\nexport function Music({ gameStarted }: { gameStarted: boolean }) {\n  const { score, lampState } = useContext(ScoreContext)\n  const { soundLoaded } = useContext(LoadedContext)\n  const [isAllMuted, setIsAllMuted] = useState(false)\n  const [, { sound: nightmareSound }] = useSound(nightmare, params)\n  const [, { sound: sadSound }] = useSound(sad, params)\n  const [, { sound: neutralSound }] = useSound(neutral, params)\n  const [, { sound: okSound }] = useSound(ok, params)\n  const [, { sound: happySound }] = useSound(happy, params)\n\n  const [, { sound: plusJingle }] = useSound(plus, { loop: false, volume: VOLUME })\n  const [, { sound: minusJingle }] = useSound(minus, { loop: false, volume: VOLUME })\n\n  const [currentSound, setCurrentSound] = useState<eLampState | null>(null)\n\n  const prevScore = useRef<number>(score)\n\n  useEffect(() => {\n    if (neutralSound?.state() === 'loaded'\n      && okSound?.state() === 'loaded'\n      && nightmareSound?.state() === 'loaded'\n      && sadSound?.state() === 'loaded'\n      && happySound?.state() === 'loaded'\n    ) {\n      soundLoaded && soundLoaded(true)\n      neutralSound.play()\n      okSound.play()\n      happySound.play()\n      nightmareSound.play()\n      sadSound.play()\n    }\n\n  }, [soundLoaded, neutralSound, happySound, nightmareSound, sadSound, okSound])\n  //\n  //useEffect(() => {\n  //\n  //  console.log(score, currentSound, [happySound, okSound, neutralSound, sadSound, nightmareSound].map(s => {\n  //    return (s?.volume() + s?.state())\n  //  }))\n  //}, [currentSound, score,  neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  useEffect(() => {\n      if (!gameStarted) {\n        return\n      }\n      setCurrentSound(lampState)\n    },\n    [lampState, gameStarted]\n  )\n\n  useEffect(() => {\n    if (prevScore.current === score) {\n      return\n    }\n    if (prevScore.current < score) {\n      plusJingle?.play()\n    } else {\n      minusJingle?.play()\n    }\n    prevScore.current = score\n  }, [score, minusJingle, plusJingle])\n\n  useEffect(() => {\n    doSound(currentSound, eLampState.neutral, neutralSound, isAllMuted)\n    doSound(currentSound, eLampState.nightmare, nightmareSound, isAllMuted)\n    doSound(currentSound, eLampState.sad, sadSound, isAllMuted)\n    doSound(currentSound, eLampState.ok, okSound, isAllMuted)\n    doSound(currentSound, eLampState.happy, happySound, isAllMuted)\n  }, [isAllMuted, currentSound, neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  const muteAll = () => {\n    setIsAllMuted(!isAllMuted)\n    localStorage.setItem('mute', ''+ !isAllMuted )\n  }\n\n  useEffect(() => {\n    setIsAllMuted(localStorage.getItem('mute') === 'true')\n  }, [])\n\n  return (\n    <>\n      <img className={'mute ' + isAllMuted} src={mute} onClick={muteAll}/>\n    </>\n  )\n}\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAVISURBVHic7Z1LiBxFHIe/HSaYCLquh90oIvERJ0vAID5AxIMnWV94maPmZIIghoiSQy45GklQD6Je14uo8eJF8HkRNfi4iASDiRBf0cT4QFSQxENtg2S3u6umq+tfPf37oNnDVE8V/fu2erqrqhuEEEIIIYQQQgjRF2asG9BR7gPGwCzwMfAc8Ktpi0QSNgFvAufO274BrjBrlWidAbAL+IPV4Rfby2atE62yFfiQ8uCL7YxVA0U7rAP2AH9TH36xiSnhVuAL/IOXAFPChcCTwL+Ehy8BOs6duF/zkwQvATrMHPAicJZm4UuADjIGTtI8eAnQMS4DDhEveAnQEWaAHcBvxA9fAmTONcC7tBO8BMiYIe6Gzl+0G74EyJBtwCe0H7wEyIwNNLuhIwE6zO3AEdIGLwEyYJZ4N3QkQMe4FziBXfASwIiNwCvYBy8BEjMDPAicwj50CZCYq4G3sA9bAiRmSP28POtNtMT1wGHsA5YAiVkP7AP+wT5cCZCY24AvsQ91qgXIeWXQWfJu31p0rb0MrBtQQecOZhfJWQCRgOHK34uBR4CbgIsS1f0SsJyoLlHCEDc/7iPgysR1f5C4PrEGA+AZ0ocvMmEALFk3QtgxIN05X2SIrgJ6jgToORLAhk3ALbjVyKb1SoC0XAd8DhzHPVzqNLCX9u96ltUL2A2c7KtptPXATuzBoA3AsZL9nqU9CRaBH0vq3UHJBxIgvgD31+zbhgRV4Z8DPtMpIB3X1nz+KO6mXCwJFnFrIRcqymyWAOn4yqNMLAmK8DfWlDsCOgWkOgVcgJPA53uaSLAI/OBZz3ZaPBgSYDWbgW89v2sSCULC31/sJAHSCQBhEryAvwQj4HvP7z3w/x0lQFoBIL4EI+A7z+87cP7OEiC9ABBPgkbh0+LBkAD1NJWgcfi0eDAkgB+TShAlfFo8GBLAn1AJthApfCIfAAkwOSES+D7waj816E5gPhwF7sD9Z9ex3qPMQdzT0SqRAHkRIkEVB4HHfQpKgPxoKoF3+CABcmVSCYLCBwmQM0eBhwPKfwo8EVqJBMiXEe6xd77cCDxP4ACSBMiTEfAebtleCDsJlEAC5Mek4RcESSAB8qJp+AXeEkiAfFgE3scv/D89yuwEnqZGAgmQByPgHern8IG71LsBv0vEXXj0BBoLsB0LmHRUL9qkEglgJ0DTId0oEkgAGwFijec3lkACpBcg2mSOFRpJIAHSChA7/IKJJZAA6QTYwgTz9gMIXXcAkQ+ABCinanVwjPALQiR4iMgHQAKUU7c6OEb4Bb4SaHVwQupWBwM8hcc0Lg985xNodXBC6lYHxwq/wEcCrQ6OvFVRtTo4RrdfRtXpYDslH0iA+AIAXIV7RG5R/ndgt8d+TamsVwKkE6BgHtgKrAvYJwar6h2WlxUt8tPKZl6vfgT2HAnQcwa4W5OipwyAt60bIewY4BYTHLduiLBhCJwEtgGPATfjblik4FiiekQFOb+aLeS6OhdyPp5roquAniMBek7OAizhBjFEj5nFrZC1vscfeyxABLIEnMA+YAlgSBd6A5GAu/Cf9CgBppRLyLM3EInJrTcQBuTUGwhD7sZ/yZUEmFKsewORCVa9gciIOdL3BiJD7sH/ZUoSYEqZA5aRAL1njJsXLwF6zDzwKhKg97TRG4iOMQ+8hgToPWPgZyRAr5kHDiEBek+T3kBMCQtM1huIKWMMnEIC9JoF4HXqwz9t1UCRhgeAXygXYNmuaSIVlwNvsDr8r/F72UN2dG4xYyYs4X4fXAocxr2V44xpi4QQQgghhBBCCCFq+A+hqzfWpZaWiAAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from 'react'\nimport './App.css'\nimport { Buttons } from './Buttons'\nimport { LoadedContextProvider } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContextProvider } from './context/speech.context'\nimport { Doors } from './Doors'\nimport { Lamp } from './Lamp'\nimport { getStateByScore } from './lampState.enum'\nimport { Music } from './Music'\n\nfunction App() {\n\n  const [gameStarted, setGameStarted] = useState(false)\n  const [showDoor, setShowDoor] = useState(true)\n  const [showControls, setShowControls] = useState(false)\n  const [score, setScore] = useState(0)\n  const [lampState, setLampState] = useState(getStateByScore(score))\n\n  const [allIsLoaded, setAllIsLoaded] = useState(false)\n  const [isGameOver, setIsGameOver] = useState(false)\n\n  useEffect(() => {\n    setLampState(getStateByScore(score))\n  }, [score])\n\n  const setGameOver = () => {\n    setIsGameOver(true)\n  }\n\n  const startTheGame = () => {\n    setTimeout(() => {\n      setGameStarted(true)\n    }, 900)\n    setTimeout(() => {\n      setShowDoor(false)\n    }, 5000)\n    setTimeout(() => {\n      setShowControls(true)\n    }, 3000)\n  }\n  const doRestartGame = () => {\n    document.location.reload()\n  }\n\n  return (\n    <>\n      <LoadedContextProvider setAllIsLoaded={setAllIsLoaded}>\n        <ScoreContext.Provider value={{ isGameOver, score, setScore, lampState }}>\n          <SpeechContextProvider isGameOver={isGameOver} setGameOver={setGameOver}>\n            <div\n              className={['Game', lampState, (gameStarted ? ' started' : ''), isGameOver ? 'gameover' : ''].join(' ')}>\n              <div className='dark bg '/>\n              <div className='light bg '/>\n              <Lamp showControls={showControls}/>\n            </div>\n            {showControls && <Buttons doRestartGame={doRestartGame}/>}\n            {showDoor && <Doors allIsLoaded={allIsLoaded} onStart={startTheGame}/>}\n            <Music gameStarted={gameStarted}/>\n          </SpeechContextProvider>\n        </ScoreContext.Provider>\n\n      </LoadedContextProvider>\n    </>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <link href=\"https://fonts.googleapis.com/css?family=Baloo+2:400,800\" rel=\"stylesheet\"/>\n    <App/>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" style={{ display: 'none' }}>\n      <defs>\n        <filter id=\"squiggly-0\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"0\"/>\n          <feDisplacementMap id=\"displacement\" in=\"SourceGraphic\" in2=\"noise\" scale=\"2\"/>\n        </filter>\n        <filter id=\"squiggly-1\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"1\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\"/>\n        </filter>\n        <filter id=\"squiggly-2\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"2\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"2\"/>\n        </filter>\n        <filter id=\"squiggly-3\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"3\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\"/>\n        </filter>\n        <filter id=\"squiggly-4\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"4\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"1\"/>\n        </filter>\n      </defs>\n    </svg>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n//document.getElementById('root').classList.add('light');\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}