{"version":3,"sources":["assets/ludum_dare_beta_-5.mp3","assets/ludum_dare_beta_-2.5.mp3","assets/ludum_dare_beta_0.mp3","assets/ludum_dare_beta_2.5.mp3","assets/ludum_dare_beta_5.mp3","assets/ludum_dare_beta_plus.mp3","assets/ludum_dare_beta_minus.mp3","lampState.enum.ts","context/score.context.ts","PHRASES.ts","context/speech.context.tsx","Buttons.tsx","context/loaded.context.tsx","Doors.tsx","assets/dead_lamp.png","assets/lamp.png","assets/light.png","assets/medium_light.png","assets/sad_lamp.png","assets/sad_light.png","hooks/bgColor.hook.ts","hooks/hook.utils.ts","hooks/lightScenarios.ts","hooks/lightTransitions.hook.ts","Speech.tsx","Lamp.tsx","hooks/lightBlink.hook.ts","Music.tsx","assets/mute.png","App.tsx","reportWebVitals.js","index.js"],"names":["eLampState","getStateByScore","score","happy","ok","neutral","sad","nightmare","ScoreContext","React","createContext","isGameOver","lampState","setScore","WIN_PHRASE","used","LOOSE_PHRASE","BORING_PHRASE","initialState","currentPhraseIndex","setNextPhrase","getQuestion","getAnswers","PHRASES","text","map","value","sort","Math","random","a","b","SpeechContext","SpeechContextProvider","setGameOver","children","useContext","useState","setCurrentPhraseIndex","Provider","length","question","answers","Buttons","doRestartGame","className","onClick","answerScore","LoadedContext","LoadedContextProvider","setAllIsLoaded","sound","setSound","images","setImages","useEffect","setTimeout","soundLoaded","imagesAreLoaded","Doors","onStart","allIsLoaded","isStarted","setIsStarted","showAbout","setShowAbout","root","document","body","style","setProperty","start","opacity","bottom","rel","target","href","useBgColor","end","setBgColor","getRandomBetween","min","max","NIGTHMARE_BLINK_SCENARIO","time","SAD_BLINK_SCENARIO","NEUTRAL_BLINK_SCENARIO","NO_BLINK_SCENARIO","useLightTransitions","timeoutRef","useRef","changeColor","useCallback","clearTimeout","current","getElementById","hue","brightness","setProps","nextChange","Speech","Lamp","showControls","blinkTimeoutRef","scenario","setScenario","nextStep","setNextStep","blink","useLightBlink","loadedCount","setLoadedCount","imgLoaded","id","dead","state","lampStateToRender","lampImg","lightImg","sadLamp","sadLight","deadLamp","lamp","mediumLight","light","src","onLoad","getLampImage","require","default","plus","minus","params","loop","soundEnabled","volume","doSound","currentSound","soundState","howlerObject","isAllMuted","fade","Music","gameStarted","setIsAllMuted","useSound","nightmareSound","sadSound","neutralSound","okSound","happySound","plusJingle","minusJingle","setCurrentSound","prevScore","play","localStorage","getItem","setItem","App","setGameStarted","showDoor","setShowDoor","setShowControls","setLampState","setIsGameOver","join","location","reload","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","xmlns","version","display","baseFrequency","numOctaves","result","seed","in","in2","scale"],"mappings":"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","file":"static/js/main.4ea5c08d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"c06fbfabbaa4d98c474ab9edc5ebad5e.mp3\";","export default __webpack_public_path__ + \"ea920845d9f44c18c2d856cb22da50fa.mp3\";","export default __webpack_public_path__ + \"411e9063d5571dac1f0799b74de1534c.mp3\";","export default __webpack_public_path__ + \"9e52c93ec850e42025e2097e52d44358.mp3\";","export default __webpack_public_path__ + \"66526c940446cd6c47ec31ed63b2831f.mp3\";","export default __webpack_public_path__ + \"9d6a171f3042df0c877757715f8e2e81.mp3\";","export default __webpack_public_path__ + \"1badcb277ed35576d75c4bb4657c863b.mp3\";","export enum eLampState {\n  happy = 'happy', ok = 'ok', neutral = 'neutral', sad = 'sad', nightmare = 'nightmare',\n  dead = 'dead'\n}\n\nexport function getStateByScore(score: number): eLampState {\n  if (score >= 4.5) {\n    return eLampState.happy\n  }\n  if (score >= 2.5) {\n    return (eLampState.ok)\n  }\n\n  if (score >= 0) {\n    return (eLampState.neutral)\n  }\n\n  if (score >= -2.5) {\n    return (eLampState.sad)\n  }\n\n  return (eLampState.nightmare)\n\n}\n","import React from 'react'\nimport { eLampState } from '../lampState.enum'\n\nexport interface IContext {\n  score: number,\n  lampState: eLampState,\n  setScore: Function\n  isGameOver: boolean\n}\n\nexport const ScoreContext = React.createContext<IContext>({ score: 0,isGameOver: false, lampState: eLampState.neutral, setScore: () => {} })\n","export interface IState {\n  question: string,\n  used: boolean,\n  answers: IAnswer[]\n}\nexport interface IAnswer { text: string, score: number }\nexport const FIRST_PHRASE: IState = {\n  'question': 'Hey...I\\'m Greg the Lamp',\n  used: false,\n  'answers': [\n    {\n      'text': 'Hi, Greg',\n      'score': 0\n    },\n    {\n      'text': 'Just give me that light already',\n      'score': -1.5\n    },\n    {\n      'text': 'You look sad, Greg, wanna talk?',\n      'score': .5\n    },\n    {\n      'text': 'Wow, talking lamp, lol',\n      'score': -.5\n    }\n  ]\n}\nexport const WIN_PHRASE: IState = {\n  'question': 'Thank you, really, thank you! I was so unstable, I thought I\\'m gonna die from loneliness. But now I believe in my future',\n  used: false,\n  'answers': [\n    {\n      'text': 'Bye, Greg! It was so nice meeting you. I\\'m glad I helped! Let\\'s chat again, I enjoyed it',\n      'score': 0\n    },\n\n  ]\n}\n\nexport const LOOSE_PHRASE: IState = {\n  'question': 'I was unstable in the beginning, but now I am just dead, just dead, I can not move, I can not light. I will stay here on the floor forever',\n  used: false,\n  'answers': [\n    {\n      'text': 'Oh no, did I really make you so desperate by only few words I said?\\nAre words SO powerful?\\nI want to try again',\n      'score': 0\n    },\n\n  ]\n}\nexport const BORING_PHRASE: IState = {\n  'question': 'I was so unstable in the beginning, and hoped that you could help me, but looks like I\\'m just a useless lamp and there is no chance for me to feel needed',\n  used: false,\n  'answers': [\n    {\n      'text': 'Greg, you are mistaken, you are needed and loved, I want to chat with you more to prove it',\n      'score': 0\n    },\n\n  ]\n}\n\n\nexport const REST_PHRASES: IState[] = [\n  {\n    'question': 'I feel lonely',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 1\n      },\n      {\n        'text': 'Ignore',\n        'score': -1\n      },\n      {\n        'text': 'Everyone\\'s lonely...',\n        'score': -.5\n      },\n      {\n        'text': 'I\\'m lonely too',\n        'score': .5\n      }\n    ]\n  },\n  {\n    'question': 'I feel abused, everyone uses me to get what they want!',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 1\n      },\n      {\n        'text': 'Turn him off',\n        'score': -1\n      },\n      {\n        'text': '...',\n        'score': -.5\n      },\n      {\n        'text': 'Your are helping people to see things at night or just to feel cozy, you are a good lamp',\n        'score': 1\n      }\n    ]\n  },\n  {\n    'question': 'I don\\'t have any friends. Why do other lamps avoid me?',\n    used: false,\n    'answers': [\n      {\n        text: 'I\\'m not a lamp, but we can be friends',\n        'score': 1\n      },\n      {\n        'text': 'Nobody wanna be a friend with you, you are just an old lamp',\n        'score': -2\n      },\n      {\n        'text': 'Start looking for another lamp',\n        'score': -1\n      },\n      {\n        'text': 'Tell me more about other lamps. Why do you think so?',\n        'score': .5\n      }\n    ]\n  },\n  {\n    'question': 'Sometimes I think about changing my job. Is it real for lamp like me to become a game dev?',\n    used: false,\n    'answers': [\n      {\n        text: 'Nah, you should be good at math',\n        'score': -2\n      },\n      {\n        'text': 'Hug',\n        'score': 0.5\n      },\n      {\n        'text': 'I heard that they have a nice salary',\n        'score': .5\n      },\n      {\n        'text': 'You should give it a try. I believe in you.',\n        'score': 1\n      }\n    ]\n  },\n  {\n    'question': 'They keep forgetting to turn me off, I can burn out!',\n    used: false,\n    'answers': [\n      {\n        text: 'I don\\'t know. You should ask them, not me',\n        'score': -2\n      },\n      {\n        'text': 'I thought you like your work',\n        'score': -.5\n      },\n      {\n        'text': '...',\n        'score': 0\n      },\n      {\n        'text': 'You should not wait for their attention. Remind of yourself',\n        'score': 1\n      }\n    ]\n  },\n  {\n    'question': 'I think I\\'m burning out',\n    used: false,\n    'answers': [\n      {\n        text: 'Oh lamps, did not know you also can burn out',\n        'score': 0\n      },\n      {\n        'text': 'You are just being lazy',\n        'score': -2\n      },\n      {\n        'text': '\"Burning out\" it\\'s a myth',\n        'score': -1\n      },\n      {\n        'text': 'It must be tense. How long have you been feeling this?',\n        'score': 2\n      }\n    ]\n  },\n  {\n    'question': 'Smart lamps?! Why do they buy them? Do you think I\\'am stupid?',\n    used: false,\n    'answers': [\n      {\n        text: 'You could ask google if you had wifi',\n        'score': -2\n      },\n      {\n        'text': 'People appreciate your warm light, have you notice that?',\n        'score': 2\n      },\n      {\n        'text': 'You are just too old to get it',\n        'score': -1\n      },\n      {\n        'text': 'You are just different, there are not better than you',\n        'score': 1\n      }\n    ]\n  },\n  {\n    'question': 'I have been feeling irritated lately',\n    used: false,\n    'answers': [\n      {\n        text: '... Oh sorry, What? I was checking Facebook.',\n        'score': -2\n      },\n      {\n        'text': 'You should find a girlfriend. She will chill you',\n        'score': -.5\n      },\n      {\n        'text': 'Tell me what irritates you the most',\n        'score': 1\n      },\n      {\n        'text': 'It\\'s all about weather',\n        'score': -1\n      }\n    ]\n  },\n  {\n    'question': 'I feel like I don\\'t do enough',\n    used: false,\n    'answers': [\n      {\n        text: 'I think that we all do the best we can',\n        'score': -1\n      },\n      {\n        'text': 'What blocks you?',\n        'score': 1\n      },\n      {\n        'text': 'Just work harder',\n        'score': -2\n      },\n      {\n        'text': '...',\n        'score': 0\n      }\n    ]\n  },\n]\n","import React, { useContext, useState } from 'react'\nimport { eLampState } from '../lampState.enum'\nimport { BORING_PHRASE, FIRST_PHRASE, IAnswer, IState, LOOSE_PHRASE, REST_PHRASES, WIN_PHRASE } from '../PHRASES'\nimport { ScoreContext } from './score.context'\n\nexport interface ISpeechContext {\n  currentPhraseIndex: number\n  setNextPhrase: Function\n  getQuestion: () => string\n  getAnswers: () => IAnswer[],\n}\n\nconst initialState = {\n  currentPhraseIndex: 0,\n  setNextPhrase: () => {},\n  getQuestion: () => 'string',\n  getAnswers: () => [],\n}\n\nconst shuffle = (arr: any[]) => {\n  return arr\n    .map((value) => ({ value, sort: Math.random() }))\n    .sort((a, b) => a.sort - b.sort)\n    .map(({ value }) => value)\n}\nconst PHRASES: IState[] = [FIRST_PHRASE, ...shuffle(REST_PHRASES)]\n\nexport const SpeechContext = React.createContext<ISpeechContext>(initialState)\n\nexport function SpeechContextProvider({\n                                        isGameOver,\n                                        setGameOver,\n                                        children\n                                      }: { isGameOver: boolean, setGameOver: Function, children: any }) {\n  const { lampState } = useContext(ScoreContext)\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0)\n\n  const setNextPhrase = () => {\n    PHRASES[currentPhraseIndex].used = true\n    if (currentPhraseIndex === PHRASES.length - 1) {\n      setGameOver()\n    } else {\n      setCurrentPhraseIndex(currentPhraseIndex + 1)\n    }\n  }\n\n  return (\n    <SpeechContext.Provider value={\n      {\n        currentPhraseIndex, setNextPhrase,\n        getQuestion: () => {\n          let phrase: IState\n          if (isGameOver) {\n            phrase = lampState === eLampState.nightmare ? LOOSE_PHRASE :\n              (lampState === eLampState.happy ? WIN_PHRASE : BORING_PHRASE)\n          } else {\n            phrase = PHRASES[currentPhraseIndex]\n          }\n\n          return phrase?.question\n        },\n        getAnswers: () => {\n          let phrase: IState\n          if (isGameOver) {\n            phrase = lampState === eLampState.nightmare ? LOOSE_PHRASE :\n              (lampState === eLampState.happy ? WIN_PHRASE : BORING_PHRASE)\n          } else {\n            phrase = PHRASES[currentPhraseIndex]\n          }\n          return phrase?.answers || []\n        }\n      }\n    }>\n      {children}\n    </SpeechContext.Provider>\n  )\n}\n","import { useContext } from 'react'\nimport './Buttons.css'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Buttons({doRestartGame}:{doRestartGame: Function}) {\n  const { score, setScore, isGameOver } = useContext(ScoreContext)\n  const { getAnswers, setNextPhrase } = useContext(SpeechContext)\n\n  const clicked = (answerScore: number) => {\n    if(isGameOver){\n      doRestartGame()\n      return\n    }\n    setScore(score + answerScore)\n    setNextPhrase()\n  }\n\n  return (\n    <>\n      {/*<div className=\"debug\">*/}\n      {/*  <div className=\"btn btn--stripe\" onClick={() => clicked(-1)}>minus</div>*/}\n      {/*  <div className=\"btn btn--stripe\" onClick={() => clicked(1)}>plus</div>*/}\n\n      {/*  <div className=\"score\">Score: {score}</div>*/}\n      {/*</div>*/}\n      <div className=\"Buttons-wrapper\">\n    <div className={\"Buttons \" + (isGameOver ? 'gameover': '')}>\n\n      {\n        getAnswers()\n          .map(\n            a => <div className=\"btn btn--stripe\" key={a.text}\n                      onClick={() => clicked(a.score)}>{a.text}</div>)\n      }\n    </div>\n      </div>\n      </>\n  )\n}\n\n","import React, { useEffect, useState } from 'react'\n\nexport interface ILoadedContext {\n  soundLoaded?: Function\n  imagesAreLoaded?: Function\n}\n\nexport const LoadedContext = React.createContext<ILoadedContext>({})\n\nexport function LoadedContextProvider({ children, setAllIsLoaded }: { children: any, setAllIsLoaded: Function }) {\n  const [sound, setSound] = useState(false)\n  const [images, setImages] = useState(false)\n\n  useEffect(() => {\n    if(sound && images){\n      setTimeout(setAllIsLoaded(sound && images), 1000)\n    }\n  }, [sound, images, setAllIsLoaded])\n\n  return (\n    <LoadedContext.Provider value={\n      {\n        soundLoaded: setSound,\n        imagesAreLoaded: setImages,\n      }\n    }>\n      {children}\n    </LoadedContext.Provider>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport './Doors.css'\n\nexport const Doors = ({ onStart, allIsLoaded }: { allIsLoaded: boolean, onStart: Function }) => {\n  const [isStarted, setIsStarted] = useState(false)\n  const [showAbout, setShowAbout] = useState(false)\n\n  const start = () => {\n    const root = document.body\n    root?.style.setProperty('--anim', 'infinite')\n    onStart()\n    setIsStarted(true)\n  }\n\n  useEffect(() => {\n    setTimeout(() => {\n      setShowAbout(true)\n    }, 10)\n  }, [])\n\n  return (<>\n      <div className=\"doors-container\">\n        <div className='door' onClick={() => allIsLoaded && start()}>\n          <div className='face'>\n            <button style={{ opacity: allIsLoaded ? '1' : '0' }} className=\"loading-btn btn--stripe btn\">\n              Start\n            </button>\n\n            <div style={{ opacity: !allIsLoaded ? '1' : '0' }} className=\"running-stripe preloader\">  Loading</div>\n\n            <div className='right'/>\n          </div>\n        </div>\n\n\n      </div>\n      {/*<div className=\"about\" onClick={()=>{setShowAbout(true)}}>About</div>*/}\n      <button className=\"welcome-btn  btn\"\n              style={{ opacity: isStarted || !showAbout ? '0' : '1', bottom: isStarted ? '20px' : '60px' }}>\n        Hi, this is a small cozy game about unstable emotions and things that surround us.<br/><br/> It was designed to\n        be played with sound turned on, moreover sound makes the gamplay whole. <br/> Please turn it on ❤️\n        <br/><br/>\n        <span className=\"ref\">Developed for <a rel=\"noreferrer\" target=\"_blank\"\n                                               href=\"https://ldjam.com/events/ludum-dare/49\">ludum dare 49 game jam</a></span>\n      </button>\n    </>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/dead_lamp.4ef1c2fd.png\";","export default __webpack_public_path__ + \"static/media/lamp.cf80ac2c.png\";","export default __webpack_public_path__ + \"static/media/light.59e00472.png\";","export default __webpack_public_path__ + \"static/media/medium_light.d3ef943c.png\";","export default __webpack_public_path__ + \"static/media/sad_lamp.d083bd5f.png\";","export default __webpack_public_path__ + \"static/media/sad_light.91eb97c4.png\";","import { useEffect } from 'react'\nimport { eLampState } from '../lampState.enum'\n\nfunction setBgColor(lampState: eLampState, isGameOver: boolean) {\n  const root = document.body\n  let start = 10\n  let end = 80\n  let opacity = 100\n\n  switch (lampState) {\n    case eLampState.happy:\n      if(isGameOver){\n        start = 80\n        end = 100\n        opacity = 0\n        root?.style.setProperty('--bg', '#6ea8c7')\n        break\n      }\n      start = 56\n      end = 80\n      opacity = 50\n      break\n    case eLampState.ok:\n      start = 40\n      end = 80\n      opacity = 60\n      break\n    case eLampState.neutral:\n      start = 30\n      end = 80\n      opacity = 70\n      break\n    case eLampState.sad:\n      start = 30\n      end = 80\n      opacity = 90\n      break\n    case eLampState.nightmare:\n      if(isGameOver){\n        start = 0\n        end = 100\n        opacity = 100;\n        root?.style.setProperty('--bg', '#0e0e15')\n\n        break\n      }\n      start = 10\n      end = 80\n      opacity = 100\n      break\n  }\n\n  root?.style.setProperty('--darkness-start', start + '%')\n  root?.style.setProperty('--darkness-end', end + '%')\n  root?.style.setProperty('--darkness-opacity', opacity + '%')\n}\n\nexport const useBgColor = (lampState: eLampState,isGameOver: boolean) => {\n  useEffect(() => {\n    setBgColor(lampState,isGameOver)\n  }, [lampState, isGameOver])\n}\n","export const LAMP_ID = 'lamp'\n\nexport function getRandomBetween([min, max]: number[]) {\n  const random = Math.random() * (max - min) + min\n\n  return random\n}\n","export const NIGTHMARE_BLINK_SCENARIO = [\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 100},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 100},\n  {opacity: 0, time: 200},\n  {opacity: 100, time: 200},\n  {opacity: 0, time: 500},\n  {opacity: 100, time: 5000},\n]\nexport const SAD_BLINK_SCENARIO = [\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000},\n  {opacity: 0, time: 300},\n  {opacity: 100, time: 100},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1500},\n  {opacity: 0, time: 200},\n  {opacity: 100, time: 2000},\n]\nexport const NEUTRAL_BLINK_SCENARIO = [\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 2000},\n  {opacity: 0, time: 100},\n  {opacity: 100, time: 1000}\n]\n\nexport const NO_BLINK_SCENARIO = [\n  {opacity: 100, time: 5000},\n  {opacity: 100, time: 5000}\n]\n\n\n","import { useCallback, useEffect, useRef } from 'react'\nimport { eLampState } from '../lampState.enum'\nimport { getRandomBetween, LAMP_ID } from './hook.utils'\n\nfunction setProps(lampState: eLampState) {\n  const root = document.getElementById('root')\n\n  if (lampState === eLampState.ok || lampState === eLampState.happy || lampState === eLampState.neutral) {\n    const hue = lampState === eLampState.happy ?  getRandomBetween([0, 360]):getRandomBetween([90, 150])\n    const brightness = lampState === eLampState.happy ? getRandomBetween([90, 120]) : getRandomBetween([60, 90])\n\n    root?.style.setProperty('--brightness', brightness + '%')\n    root?.style.setProperty('--hue', hue + 'deg')\n    root?.style.setProperty('--saturate', getRandomBetween([90, 110]) + '%')\n  } else {\n    root?.style.setProperty('--hue', 0 + 'deg')\n    root?.style.setProperty('--saturate', 30 + '%')\n  }\n}\n\nexport const useLightTransitions = (lampState: eLampState, isGameOver: boolean) => {\n  const timeoutRef = useRef<any>()\n\n  const changeColor = useCallback(() => {\n    clearTimeout(timeoutRef.current)\n    setProps(lampState)\n\n    let nextChange = [1000, 1000]\n\n    switch (lampState) {\n      case eLampState.happy:\n        if(isGameOver){\n          nextChange = [500, 700]\n          break\n        }\n        nextChange = [500, 1000]\n        break\n      case eLampState.ok:\n        nextChange = [2000, 5000]\n        break\n      case eLampState.neutral:\n        nextChange = [2000, 5000]\n        break\n    }\n\n    timeoutRef.current = setTimeout(changeColor, getRandomBetween(nextChange))\n  }, [lampState, isGameOver])\n\n  useEffect(() => {\n    changeColor()\n  }, [lampState, changeColor])\n\n  return timeoutRef.current\n}\n","import { useContext } from 'react'\nimport { ScoreContext } from './context/score.context'\nimport './Speech.css'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Speech() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getQuestion } = useContext(SpeechContext)\n\n  return (\n\n    <div className=\"speech-container\">\n      <div className=\"speech\">\n        {getQuestion()}\n      </div>\n    </div>\n  )\n}\n\n","import React, { useContext, useEffect, useState } from 'react'\nimport deadLamp from './assets/dead_lamp.png'\nimport lamp from './assets/lamp.png'\nimport light from './assets/light.png'\nimport mediumLight from './assets/medium_light.png'\nimport sadLamp from './assets/sad_lamp.png'\nimport sadLight from './assets/sad_light.png'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { useBgColor } from './hooks/bgColor.hook'\nimport { LAMP_ID } from './hooks/hook.utils'\nimport { useLightBlink } from './hooks/lightBlink.hook'\nimport { useLightTransitions } from './hooks/lightTransitions.hook'\nimport './Lamp.css'\nimport { eLampState } from './lampState.enum'\nimport { Speech } from './Speech'\n\nexport function Lamp({ showControls }: { showControls: boolean }) {\n  const { lampState, isGameOver } = useContext(ScoreContext)\n\n  useLightTransitions(lampState, isGameOver)\n  useLightBlink(lampState, isGameOver)\n  useBgColor(lampState, isGameOver)\n\n  const { imagesAreLoaded } = useContext(LoadedContext)\n  const [loadedCount, setLoadedCount] = useState(0)\n\n  const imgLoaded = () => {\n    setLoadedCount(loadedCount + 1)\n  }\n\n  useEffect(() => {\n    if (loadedCount === 2 * 5) {\n      imagesAreLoaded && imagesAreLoaded(true)\n    }\n  }, [loadedCount, imagesAreLoaded])\n\n  const getLampImage = (lampStateToRender: eLampState) => {\n    let opacity\n    let lampImg\n    let lightImg\n    opacity = (lampState === lampStateToRender) ? '100%' : 0\n    switch (lampStateToRender) {\n      case eLampState.nightmare:\n        if (isGameOver) {\n          opacity = 0\n        }\n        lampImg = sadLamp\n        lightImg = sadLight\n        break\n      case eLampState.dead:\n        if (isGameOver && lampState === eLampState.nightmare) {\n          opacity = 1\n          lampImg = deadLamp\n          break\n        }\n\n        break\n      case eLampState.sad:\n      case eLampState.neutral:\n        lampImg = lamp\n        lightImg = mediumLight\n        break\n      case eLampState.ok:\n      case eLampState.happy:\n        lightImg = light\n        lampImg = lamp\n        break\n    }\n    return (\n      <div style={{ opacity }} key={lampStateToRender} className=\"lamp-container\">\n        <img className=\"img light\" src={lightImg} onLoad={imgLoaded}/>\n        <img className=\"img lamp\" src={lampImg} onLoad={imgLoaded}/>\n      </div>\n    )\n  }\n\n  return (\n    <div id={LAMP_ID}>\n      {[eLampState.dead, eLampState.nightmare, eLampState.sad, eLampState.neutral, eLampState.ok, eLampState.happy].map(\n        state => getLampImage(state))}\n      {showControls && <Speech/>}\n    </div>\n\n  )\n}\n\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { eLampState } from '../lampState.enum'\nimport {\n  NEUTRAL_BLINK_SCENARIO,\n  NIGTHMARE_BLINK_SCENARIO,\n  NO_BLINK_SCENARIO,\n  SAD_BLINK_SCENARIO\n} from './lightScenarios'\n\nexport const useLightBlink = (lampState: eLampState, isGameOver: boolean) => {\n\n  const blinkTimeoutRef = useRef<any>()\n  const [scenario, setScenario] = useState(SAD_BLINK_SCENARIO)\n  const [nextStep, setNextStep] = useState(0)\n\n  const blink = useCallback(() => {\n    const root = document.body\n    clearTimeout(blinkTimeoutRef.current)\n    if (isGameOver) {\n      if (lampState === eLampState.nightmare) {\n        root?.style.setProperty('--opacity', 0 + '%')\n      } else {\n        root?.style.setProperty('--opacity', 100 + '%')\n      }\n      return\n    }\n    root?.style.setProperty('--opacity', scenario[nextStep].opacity + '%')\n\n    blinkTimeoutRef.current = setTimeout(() => {\n      setNextStep((nextStep + 1) % scenario.length)\n    }, scenario[nextStep].time)\n  }, [scenario, nextStep, isGameOver, lampState])\n\n  useEffect(() => {\n    let scenario: any\n    switch (lampState) {\n      case eLampState.happy:\n      case eLampState.ok:\n        scenario = NO_BLINK_SCENARIO\n        break\n      case eLampState.neutral:\n        scenario = NEUTRAL_BLINK_SCENARIO\n        break\n      case eLampState.sad:\n        scenario = SAD_BLINK_SCENARIO\n        break\n      case eLampState.nightmare:\n        scenario = NIGTHMARE_BLINK_SCENARIO\n        break\n    }\n    setScenario(scenario)\n    if (nextStep % 2) {\n      setNextStep(1)\n    } else {\n      setNextStep(0)\n    }\n  }, [lampState, nextStep, isGameOver])\n\n  useEffect(() => {\n    blink()\n  }, [blink])\n\n}\n","import { useContext, useEffect, useRef, useState } from 'react'\nimport useSound from 'use-sound'\nimport './App.css'\nimport mute from './assets/mute.png'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { eLampState } from './lampState.enum'\n\nconst nightmare = require('./assets/ludum_dare_beta_-5.mp3').default\nconst sad = require('./assets/ludum_dare_beta_-2.5.mp3').default\nconst neutral = require('./assets/ludum_dare_beta_0.mp3').default\nconst ok = require('./assets/ludum_dare_beta_2.5.mp3').default\nconst happy = require('./assets/ludum_dare_beta_5.mp3').default\n\nconst plus = require('./assets/ludum_dare_beta_plus.mp3').default\nconst minus = require('./assets/ludum_dare_beta_minus.mp3').default\n\nconst VOLUME = .3\nconst FADE_DURATION = 800\nconst params = { loop: true, soundEnabled: true, volume: 0 }\n\nfunction doSound(currentSound: eLampState | null, soundState: eLampState, howlerObject: any, isAllMuted: boolean) {\n  if (!howlerObject) {\n    return\n  }\n  if (currentSound === soundState && !isAllMuted) {\n    howlerObject.fade(howlerObject.volume(), VOLUME, FADE_DURATION)\n  } else {\n    howlerObject.fade(howlerObject.volume(), 0, FADE_DURATION)\n  }\n}\n\nexport function Music({ gameStarted }: { gameStarted: boolean }) {\n  const { score, lampState } = useContext(ScoreContext)\n  const { soundLoaded } = useContext(LoadedContext)\n  const [isAllMuted, setIsAllMuted] = useState(false)\n  const [, { sound: nightmareSound }] = useSound(nightmare, params)\n  const [, { sound: sadSound }] = useSound(sad, params)\n  const [, { sound: neutralSound }] = useSound(neutral, params)\n  const [, { sound: okSound }] = useSound(ok, params)\n  const [, { sound: happySound }] = useSound(happy, params)\n\n  const [, { sound: plusJingle }] = useSound(plus, { loop: false, volume: VOLUME })\n  const [, { sound: minusJingle }] = useSound(minus, { loop: false, volume: VOLUME })\n\n  const [currentSound, setCurrentSound] = useState<eLampState | null>(null)\n\n  const prevScore = useRef<number>(score)\n\n  useEffect(() => {\n    if (neutralSound?.state() === 'loaded'\n      && okSound?.state() === 'loaded'\n      && nightmareSound?.state() === 'loaded'\n      && sadSound?.state() === 'loaded'\n      && happySound?.state() === 'loaded'\n    ) {\n      soundLoaded && soundLoaded(true)\n      neutralSound.play()\n      okSound.play()\n      happySound.play()\n      nightmareSound.play()\n      sadSound.play()\n    }\n\n  }, [soundLoaded, neutralSound, happySound, nightmareSound, sadSound, okSound])\n  //\n  //useEffect(() => {\n  //\n  //  console.log(score, currentSound, [happySound, okSound, neutralSound, sadSound, nightmareSound].map(s => {\n  //    return (s?.volume() + s?.state())\n  //  }))\n  //}, [currentSound, score,  neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  useEffect(() => {\n      if (!gameStarted) {\n        return\n      }\n      setCurrentSound(lampState)\n    },\n    [lampState, gameStarted]\n  )\n\n  useEffect(() => {\n    if (prevScore.current === score) {\n      return\n    }\n\n    if (!isAllMuted) {\n      if (prevScore.current < score) {\n        plusJingle?.play()\n      } else {\n        minusJingle?.play()\n      }\n    }\n    prevScore.current = score\n\n  }, [score, minusJingle, plusJingle, isAllMuted])\n\n  useEffect(() => {\n    doSound(currentSound, eLampState.neutral, neutralSound, isAllMuted)\n    doSound(currentSound, eLampState.nightmare, nightmareSound, isAllMuted)\n    doSound(currentSound, eLampState.sad, sadSound, isAllMuted)\n    doSound(currentSound, eLampState.ok, okSound, isAllMuted)\n    doSound(currentSound, eLampState.happy, happySound, isAllMuted)\n  }, [isAllMuted, currentSound, neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  const muteAll = () => {\n    setIsAllMuted(!isAllMuted)\n    localStorage.setItem('mute', '' + !isAllMuted)\n  }\n\n  useEffect(() => {\n    setIsAllMuted(localStorage.getItem('mute') === 'true')\n  }, [])\n\n  return (\n    <>\n      <img className={'mute ' + isAllMuted} src={mute} onClick={muteAll}/>\n    </>\n  )\n}\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAVISURBVHic7Z1LiBxFHIe/HSaYCLquh90oIvERJ0vAID5AxIMnWV94maPmZIIghoiSQy45GklQD6Je14uo8eJF8HkRNfi4iASDiRBf0cT4QFSQxENtg2S3u6umq+tfPf37oNnDVE8V/fu2erqrqhuEEEIIIYQQQgjRF2asG9BR7gPGwCzwMfAc8Ktpi0QSNgFvAufO274BrjBrlWidAbAL+IPV4Rfby2atE62yFfiQ8uCL7YxVA0U7rAP2AH9TH36xiSnhVuAL/IOXAFPChcCTwL+Ehy8BOs6duF/zkwQvATrMHPAicJZm4UuADjIGTtI8eAnQMS4DDhEveAnQEWaAHcBvxA9fAmTONcC7tBO8BMiYIe6Gzl+0G74EyJBtwCe0H7wEyIwNNLuhIwE6zO3AEdIGLwEyYJZ4N3QkQMe4FziBXfASwIiNwCvYBy8BEjMDPAicwj50CZCYq4G3sA9bAiRmSP28POtNtMT1wGHsA5YAiVkP7AP+wT5cCZCY24AvsQ91qgXIeWXQWfJu31p0rb0MrBtQQecOZhfJWQCRgOHK34uBR4CbgIsS1f0SsJyoLlHCEDc/7iPgysR1f5C4PrEGA+AZ0ocvMmEALFk3QtgxIN05X2SIrgJ6jgToORLAhk3ALbjVyKb1SoC0XAd8DhzHPVzqNLCX9u96ltUL2A2c7KtptPXATuzBoA3AsZL9nqU9CRaBH0vq3UHJBxIgvgD31+zbhgRV4Z8DPtMpIB3X1nz+KO6mXCwJFnFrIRcqymyWAOn4yqNMLAmK8DfWlDsCOgWkOgVcgJPA53uaSLAI/OBZz3ZaPBgSYDWbgW89v2sSCULC31/sJAHSCQBhEryAvwQj4HvP7z3w/x0lQFoBIL4EI+A7z+87cP7OEiC9ABBPgkbh0+LBkAD1NJWgcfi0eDAkgB+TShAlfFo8GBLAn1AJthApfCIfAAkwOSES+D7waj816E5gPhwF7sD9Z9ex3qPMQdzT0SqRAHkRIkEVB4HHfQpKgPxoKoF3+CABcmVSCYLCBwmQM0eBhwPKfwo8EVqJBMiXEe6xd77cCDxP4ACSBMiTEfAebtleCDsJlEAC5Mek4RcESSAB8qJp+AXeEkiAfFgE3scv/D89yuwEnqZGAgmQByPgHern8IG71LsBv0vEXXj0BBoLsB0LmHRUL9qkEglgJ0DTId0oEkgAGwFijec3lkACpBcg2mSOFRpJIAHSChA7/IKJJZAA6QTYwgTz9gMIXXcAkQ+ABCinanVwjPALQiR4iMgHQAKUU7c6OEb4Bb4SaHVwQupWBwM8hcc0Lg985xNodXBC6lYHxwq/wEcCrQ6OvFVRtTo4RrdfRtXpYDslH0iA+AIAXIV7RG5R/ndgt8d+TamsVwKkE6BgHtgKrAvYJwar6h2WlxUt8tPKZl6vfgT2HAnQcwa4W5OipwyAt60bIewY4BYTHLduiLBhCJwEtgGPATfjblik4FiiekQFOb+aLeS6OhdyPp5roquAniMBek7OAizhBjFEj5nFrZC1vscfeyxABLIEnMA+YAlgSBd6A5GAu/Cf9CgBppRLyLM3EInJrTcQBuTUGwhD7sZ/yZUEmFKsewORCVa9gciIOdL3BiJD7sH/ZUoSYEqZA5aRAL1njJsXLwF6zDzwKhKg97TRG4iOMQ+8hgToPWPgZyRAr5kHDiEBek+T3kBMCQtM1huIKWMMnEIC9JoF4HXqwz9t1UCRhgeAXygXYNmuaSIVlwNvsDr8r/F72UN2dG4xYyYs4X4fXAocxr2V44xpi4QQQgghhBBCCCFq+A+hqzfWpZaWiAAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from 'react'\nimport './App.css'\nimport { Buttons } from './Buttons'\nimport { LoadedContextProvider } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContextProvider } from './context/speech.context'\nimport { Doors } from './Doors'\nimport { Lamp } from './Lamp'\nimport { getStateByScore } from './lampState.enum'\nimport { Music } from './Music'\n\nfunction App() {\n\n  const [gameStarted, setGameStarted] = useState(false)\n  const [showDoor, setShowDoor] = useState(true)\n  const [showControls, setShowControls] = useState(false)\n  const [score, setScore] = useState(0)\n  const [lampState, setLampState] = useState(getStateByScore(score))\n\n  const [allIsLoaded, setAllIsLoaded] = useState(false)\n  const [isGameOver, setIsGameOver] = useState(false)\n\n  useEffect(() => {\n    setLampState(getStateByScore(score))\n  }, [score])\n\n  const setGameOver = () => {\n    setIsGameOver(true)\n  }\n\n  const startTheGame = () => {\n    setTimeout(() => {\n      setGameStarted(true)\n    }, 900)\n    setTimeout(() => {\n      setShowDoor(false)\n    }, 5000)\n    setTimeout(() => {\n      setShowControls(true)\n    }, 3000)\n  }\n  const doRestartGame = () => {\n    document.location.reload()\n  }\n\n  return (\n    <>\n      <LoadedContextProvider setAllIsLoaded={setAllIsLoaded}>\n        <ScoreContext.Provider value={{ isGameOver, score, setScore, lampState }}>\n          <SpeechContextProvider isGameOver={isGameOver} setGameOver={setGameOver}>\n            <div\n              className={['Game', lampState, (gameStarted ? ' started' : ''), isGameOver ? 'gameover' : ''].join(' ')}>\n              <div className='dark bg '/>\n              <div className='light bg '/>\n              <Lamp showControls={showControls}/>\n            </div>\n            {showControls && <Buttons doRestartGame={doRestartGame}/>}\n            {showDoor && <Doors allIsLoaded={allIsLoaded} onStart={startTheGame}/>}\n            <Music gameStarted={gameStarted}/>\n          </SpeechContextProvider>\n        </ScoreContext.Provider>\n\n      </LoadedContextProvider>\n    </>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <link href=\"https://fonts.googleapis.com/css?family=Baloo+2:400,800\" rel=\"stylesheet\"/>\n    <App/>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" style={{ display: 'none' }}>\n      <defs>\n        <filter id=\"squiggly-0\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"0\"/>\n          <feDisplacementMap id=\"displacement\" in=\"SourceGraphic\" in2=\"noise\" scale=\"2\"/>\n        </filter>\n        <filter id=\"squiggly-1\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"1\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\"/>\n        </filter>\n        <filter id=\"squiggly-2\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"2\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"2\"/>\n        </filter>\n        <filter id=\"squiggly-3\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"3\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\"/>\n        </filter>\n        <filter id=\"squiggly-4\">\n          <feTurbulence id=\"turbulence\" baseFrequency=\"0.01\" numOctaves=\"3\" result=\"noise\" seed=\"4\"/>\n          <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"1\"/>\n        </filter>\n      </defs>\n    </svg>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n//document.getElementById('root').classList.add('light');\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}