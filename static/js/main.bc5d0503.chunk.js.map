{"version":3,"sources":["assets/ludum_dare_beta_-5.mp3","assets/ludum_dare_beta_-2.5.mp3","assets/ludum_dare_beta_0.mp3","assets/ludum_dare_beta_2.5.mp3","assets/ludum_dare_beta_5.mp3","context/score.context.ts","context/speech.context.tsx","PHRASES.ts","Buttons.tsx","context/loaded.context.tsx","assets/lamp.png","assets/light.png","assets/medium_light.png","assets/sad_lamp.png","assets/sad_light.png","Lamp.tsx","lampState.enum.ts","Music.tsx","Speech.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["ScoreContext","React","createContext","score","setScore","initialState","currentPhraseIndex","setNextPhrase","getQuestion","getAnswers","PHRASES","used","text","map","value","sort","Math","random","a","b","SpeechContext","SpeechContextProvider","setGameOver","children","useState","setCurrentPhraseIndex","Provider","length","question","answers","Buttons","useContext","className","onClick","answerScore","LoadedContext","LoadedContextProvider","setAllIsLoaded","sound","setSound","images","setImages","useEffect","setTimeout","soundLoaded","imagesAreLoaded","LAMP_ID","getRandomBetween","min","max","changeColor","timeout","root","document","getElementById","style","setProperty","blink","Lamp","showBright","setShowBright","showMedium","setShowMedium","showSad","setShowSad","loadedCount","setLoadedCount","imgLoaded","id","opacity","src","light","onLoad","mediumLight","lamp","sadLight","sadLamp","eLampState","nightmare","require","default","sad","neutral","ok","happy","params","loop","soundEnabled","volume","doSound","currentSound","soundState","howlerObject","playing","play","fade","Music","gameStarted","useSound","nightmareSound","sadSound","neutralSound","okSound","happySound","setCurrentSound","state","getStateByScore","Speech","App","setGameStarted","showControls","setShowControls","allIsLoaded","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","href","rel"],"mappings":"wMAAA,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,wC,yGCO5BA,G,WAAeC,IAAMC,cAAwB,CAAEC,MAAO,EAAGC,SAAU,gB,cCG1EC,EAAe,CACnBC,mBAAoB,EACpBC,cAAe,aACfC,YAAa,iBAAM,UACnBC,WAAY,iBAAM,KASdC,EAAiB,CCjBa,CAClC,SAAY,0BACZC,MAAM,EACN,QAAW,CACT,CACE,KAAQ,WACR,MAAS,GAEX,CACE,KAAQ,qBACR,OAAU,GAEZ,CACE,KAAQ,kCACR,MAAS,GAEX,CACE,KAAQ,yBACR,OAAU,MDDO,mBCOe,CACpC,CACE,SAAY,gBACZA,MAAM,EACN,QAAW,CACT,CACEC,KAAM,MACN,MAAS,GAEX,CACE,KAAQ,SACR,OAAU,GAEZ,CACE,KAAQ,uBACR,OAAU,GAEZ,CACE,KAAQ,iBACR,MAAS,MD9BZC,KAAI,SAACC,GAAD,MAAY,CAAEA,QAAOC,KAAMC,KAAKC,aACpCF,MAAK,SAACG,EAAGC,GAAJ,OAAUD,EAAEH,KAAOI,EAAEJ,QAC1BF,KAAI,qBAAGC,WAICM,EAAgBnB,IAAMC,cAA8BG,GAE1D,SAASgB,EAAT,GAAoG,EAAnEC,YAAoE,IAAvDC,EAAsD,EAAtDA,SAUnD,EAAoDC,mBAAS,GAA7D,mBAAOlB,EAAP,KAA2BmB,EAA3B,KAEA,OACE,cAACL,EAAcM,SAAf,CAAwBZ,MACtB,CACER,qBAAoBC,cAdJ,WACpBG,EAAQJ,GAAoBK,MAAO,EAC/BL,IAAuBI,EAAQiB,OAAS,EAC1CF,EAAsB,GAGtBA,EAAsBnB,EAAqB,IASzCE,YAAa,WAAO,IAAD,EACjB,OAAO,UAAAE,EAAQJ,UAAR,eAA6BsB,WAAY,aAElDnB,WAAY,WAAO,IAAD,EAChB,OAAO,UAAAC,EAAQJ,UAAR,eAA6BuB,UAAW,KAPrD,SAWGN,IE9CA,SAASO,IACd,MAA4BC,qBAAW/B,GAA/BG,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACf,EAAsC2B,qBAAWX,GAAzCX,EAAR,EAAQA,WAAYF,EAApB,EAAoBA,cAOpB,OACE,sBAAKyB,UAAU,UAAf,UACE,sBAAKA,UAAU,QAAf,oBAA+B7B,KAE7BM,IACGI,KACC,SAAAK,GAAC,OAAI,qBAAKc,UAAU,kBACVC,QAAS,kBAZZC,EAY0BhB,EAAEf,MAX3CC,EAASD,EAAQ+B,QACjB3B,IAFc,IAAC2B,GAWF,SACuChB,EAAEN,MADHM,EAAEN,YCblD,IAAMuB,EAAgBlC,IAAMC,cAA8B,IAE1D,SAASkC,EAAT,GAA2G,IAA1Eb,EAAyE,EAAzEA,SAAUc,EAA+D,EAA/DA,eAChD,EAA0Bb,oBAAS,GAAnC,mBAAOc,EAAP,KAAcC,EAAd,KACA,EAA4Bf,oBAAS,GAArC,mBAAOgB,EAAP,KAAeC,EAAf,KAMA,OAJAC,qBAAU,WACRC,WAAWN,EAAeC,GAASE,GAAQ,OAC1C,CAACF,EAAOE,EAAQH,IAGjB,cAACF,EAAcT,SAAf,CAAwBZ,MACtB,CACE8B,YAAaL,EACbM,gBAAiBJ,GAHrB,SAMGlB,ICxBQ,UAA0B,iCCA1B,MAA0B,kCCA1B,MAA0B,yCCA1B,MAA0B,qCCA1B,MAA0B,sCCUnCuB,G,MAAU,QAEhB,SAASC,EAAiBC,EAAaC,GACrC,OAAOjC,KAAKC,UAAYgC,EAAMD,GAAOA,EAGvC,SAASE,EAAYC,GACnB,IAAMC,EAAOC,SAASC,eAAeR,GAErCH,YAAW,WACL,OAAJS,QAAI,IAAJA,KAAMG,MAAMC,YAAY,eAAgBT,EAAiB,GAAI,KAAO,KAChE,OAAJK,QAAI,IAAJA,KAAMG,MAAMC,YAAY,QAAST,EAAiB,EAAG,KAAO,OACxD,OAAJK,QAAI,IAAJA,KAAMG,MAAMC,YAAY,aAAcT,EAAiB,GAAI,KAAO,KAClEG,EAAYH,EAAiB,IAAM,QAClCI,GAGL,SAASM,IACP,IAAML,EAAOC,SAASC,eAAeR,GAEjC,OAAJM,QAAI,IAAJA,KAAMG,MAAMC,YAAY,YAAa,MACrCb,YAAW,WACL,OAAJS,QAAI,IAAJA,KAAMG,MAAMC,YAAY,YAAa,QACrCb,YAAW,WACTc,MACCV,EAAiB,IAAM,QACzBA,EAAiB,IAAK,MAGpB,SAASW,IACdR,EAAY,GACZO,IAEA,IAAQtD,EAAU4B,qBAAW/B,GAArBG,MACR,EAAoCqB,oBAAS,GAA7C,mBAAOmC,EAAP,KAAmBC,EAAnB,KACA,EAAoCpC,oBAAS,GAA7C,mBAAOqC,EAAP,KAAmBC,EAAnB,KACA,EAA8BtC,oBAAS,GAAvC,mBAAOuC,EAAP,KAAgBC,EAAhB,KAEQnB,EAAoBd,qBAAWI,GAA/BU,gBACR,EAAsCrB,mBAAS,GAA/C,mBAAOyC,EAAP,KAAoBC,EAApB,KAEAxB,qBAAU,WACRsB,GAAW,GACXF,GAAc,GACdF,GAAc,GAEVzD,EAAQ,EACVyD,GAAc,GAGZzD,GAAS,EACX2D,GAAc,GAGhBE,GAAW,KAEV,CAAC7D,IAEJ,IAAMgE,EAAY,WAChBD,EAAeD,EAAc,GAET,IAAhBA,GACFpB,GAAmBA,GAAgB,IAIvC,OACE,sBAAKuB,GAAItB,EAAT,UACE,qBAAKd,UAAU,YAAYuB,MAAO,CAAEc,QAASV,EAAa,EAAI,GAAKW,IAAKC,EAAOC,OAAQL,IACvF,qBAAKnC,UAAU,YAAYuB,MAAO,CAAEc,QAASR,EAAa,EAAI,GAAKS,IAAKG,EAAaD,OAAQL,IAC7F,qBAAKnC,UAAU,WAAWuB,MAAO,CAAEc,QAAUV,GAAcE,EAAc,EAAI,GAAKS,IAAKI,EAAMF,OAAQL,IAErG,qBAAKnC,UAAU,YAAYuB,MAAO,CAAEc,QAASN,EAAU,EAAI,GAAKO,IAAKK,EAAUH,OAAQL,IACvF,qBAAKnC,UAAU,WAAWuB,MAAO,CAAEc,QAASN,EAAU,EAAI,GAAKO,IAAKM,EAASJ,OAAQL,O,ICnF/EU,E,iBAAAA,K,cAAAA,E,QAAAA,E,kBAAAA,E,UAAAA,E,uBAAAA,M,KCOZ,IAAMC,EAAYC,EAAQ,IAAmCC,QACvDC,EAAMF,EAAQ,IAAqCC,QACnDE,EAAUH,EAAQ,IAAkCC,QACpDG,EAAKJ,EAAQ,IAAoCC,QACjDI,EAAQL,EAAQ,IAAkCC,QAGlDK,EAAS,CAAEC,MAAM,EAAMC,cAAc,EAAMC,OAAQ,GAEzD,SAASC,EAAQC,EAAiCC,EAAwBC,GACnEA,IAGAA,EAAaC,WAChBD,EAAaE,OAEXJ,IAAiBC,EACnBC,EAAaG,KAAKH,EAAaJ,SAXpB,GAWsC,KAEjDI,EAAaG,KAAKH,EAAaJ,SAAU,EAAG,MAIzC,SAASQ,EAAT,GAA2D,IAA1CC,EAAyC,EAAzCA,YACd9F,EAAU4B,qBAAW/B,GAArBG,MACAyC,EAAgBb,qBAAWI,GAA3BS,YAER,EAAsCsD,YAASpB,EAAWO,GAAxCc,EAAlB,oBAAW7D,MACX,EAAgC4D,YAASjB,EAAKI,GAA5Be,EAAlB,oBAAW9D,MACX,EAAoC4D,YAAShB,EAASG,GAApCgB,EAAlB,oBAAW/D,MACX,EAA+B4D,YAASf,EAAIE,GAA1BiB,EAAlB,oBAAWhE,MACX,EAAkC4D,YAASd,EAAOC,GAAhCkB,EAAlB,oBAAWjE,MAEX,EAAwCd,mBAA4B,MAApE,mBAAOkE,EAAP,KAAqBc,EAArB,KAyCA,OAvCA9D,qBAAU,WAEsB,YAAd,OAAZ2D,QAAY,IAAZA,OAAA,EAAAA,EAAcI,UACQ,YAAd,OAAPH,QAAO,IAAPA,OAAA,EAAAA,EAASG,UACmB,YAAd,OAAdN,QAAc,IAAdA,OAAA,EAAAA,EAAgBM,UACM,YAAd,OAARL,QAAQ,IAARA,OAAA,EAAAA,EAAUK,UACc,YAAd,OAAVF,QAAU,IAAVA,OAAA,EAAAA,EAAYE,UAEf7D,GAAeA,GAAY,KAE5B,CAACA,EAAayD,EAAcE,EAAYJ,EAAgBC,EAAUE,IASrE5D,qBAAU,WACHuD,GAID9F,EAAQ,KACVqG,ED/DC,SAAyBrG,GAC9B,OAAIA,EAAQ,IACH0E,EAAWO,MAEhBjF,EAAQ,IACF0E,EAAWM,GAGjBhF,EAAQ,EACF0E,EAAWK,QAGjB/E,GAAS,IACH0E,EAAWI,IAGbJ,EAAWC,UC+CC4B,CAAgBvG,MAGlC,CAACA,EAAO8F,IAGVvD,qBAAU,WACR+C,EAAQC,EAAcb,EAAWK,QAASmB,GAC1CZ,EAAQC,EAAcb,EAAWC,UAAWqB,GAC5CV,EAAQC,EAAcb,EAAWI,IAAKmB,GACtCX,EAAQC,EAAcb,EAAWM,GAAImB,GACrCb,EAAQC,EAAcb,EAAWO,MAAOmB,KACvC,CAACb,EAAcW,EAAcE,EAAYD,EAASF,EAAUD,IAG7D,6B,MC7EG,SAASQ,IACd,MAA4B5E,qBAAW/B,GAC/BQ,GADR,EAAQL,MAAR,EAAeC,SACS2B,qBAAWX,GAA3BZ,aAER,OAEE,qBAAKwB,UAAU,mBAAf,SACE,qBAAKA,UAAU,SAAf,SACGxB,QC2CMoG,MA9Cf,WAEE,MAAsCpF,oBAAS,GAA/C,mBAAOyE,EAAP,KAAoBY,EAApB,KACA,EAAwCrF,oBAAS,GAAjD,mBAAOsF,EAAP,KAAqBC,EAArB,KACA,EAA0BvF,mBAAS,GAAnC,mBAAOrB,EAAP,KAAcC,EAAd,KACA,EAAsCoB,oBAAS,GAA/C,mBAAOwF,EAAP,KAAoB3E,EAApB,KAYA,OAVAK,qBAAU,WACJuD,GACFc,GAAgB,KAEjB,CAACd,IAOF,mCACE,cAAC7D,EAAD,CAAuBC,eAAgBA,EAAvC,SACE,cAAChB,EAAD,CAAuBC,YAPT,aAOd,SACE,eAACtB,EAAa0B,SAAd,CAAuBZ,MAAO,CAAEX,QAAOC,YAAvC,UACE,cAAC4F,EAAD,CAAOC,YAAaA,KAClBe,GAAe,wBAAQhF,UAAU,8BAAlB,wBAGjB,sBAAKA,UAAU,OAAOuB,MAAO,CAAEc,QAAS2C,EAAc,EAAI,GAA1D,UACE,cAAC,EAAD,IACCF,GAAgB,cAAC,EAAD,KAGdb,GACD,wBAAQjE,UAAU,4BACVC,QAAS,WAAO4E,GAAe,IADvC,qBAMHC,GAAgB,cAAC,EAAD,cCpCdG,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,eAAC,IAAMC,WAAP,WACE,sBAAMC,KAAK,0DAA0DC,IAAI,eACzE,qBAAK9F,UAAU,aACf,cAAC,EAAD,OAEFqB,SAASC,eAAe,SAM1B2D,M","file":"static/js/main.bc5d0503.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"7996cac1b26fae126a7dd755e81b8bd5.mp3\";","export default __webpack_public_path__ + \"79d6aa22a56ba0eefca5264ab19ec041.mp3\";","export default __webpack_public_path__ + \"66e632a447f6d371ca2beffc4f63eea6.mp3\";","export default __webpack_public_path__ + \"71b1c2271b686b9c8bd56c25ec9cc799.mp3\";","export default __webpack_public_path__ + \"503550ede9d1120e68dc8e47ec724ea1.mp3\";","import React from 'react'\n\nexport interface IContext {\n  score: number,\n  setScore: Function\n}\n\nexport const ScoreContext = React.createContext<IContext>({ score: 0, setScore: () => {} })\n","import React, { useState } from 'react'\nimport { FIRST_PHRASE, IAnswer, IState, REST_PHRASES } from '../PHRASES'\n\nexport interface ISpeechContext {\n  currentPhraseIndex: number\n  setNextPhrase: Function\n  getQuestion: () => string\n  getAnswers: () => IAnswer[]\n}\n\nconst initialState = {\n  currentPhraseIndex: 0,\n  setNextPhrase: () => {},\n  getQuestion: () => 'string',\n  getAnswers: () => []\n}\n\nconst shuffle = (arr: any[]) => {\n  return arr\n    .map((value) => ({ value, sort: Math.random() }))\n    .sort((a, b) => a.sort - b.sort)\n    .map(({ value }) => value)\n}\nconst PHRASES: IState[] = [FIRST_PHRASE, ...shuffle(REST_PHRASES)]\n\nexport const SpeechContext = React.createContext<ISpeechContext>(initialState)\n\nexport function SpeechContextProvider({ setGameOver, children }: { setGameOver: Function, children: any }) {\n  const setNextPhrase = () => {\n    PHRASES[currentPhraseIndex].used = true\n    if (currentPhraseIndex === PHRASES.length - 1) {\n      setCurrentPhraseIndex(0)\n      //setGameOver()\n    } else {\n      setCurrentPhraseIndex(currentPhraseIndex + 1)\n    }\n  }\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0)\n\n  return (\n    <SpeechContext.Provider value={\n      {\n        currentPhraseIndex, setNextPhrase,\n        getQuestion: () => {\n          return PHRASES[currentPhraseIndex]?.question || 'Game over'\n        },\n        getAnswers: () => {\n          return PHRASES[currentPhraseIndex]?.answers || []\n        }\n      }\n    }>\n      {children}\n    </SpeechContext.Provider>\n  )\n}\n","export interface IState {\n  question: string,\n  used: boolean,\n  answers: IAnswer[]\n}\nexport interface IAnswer { text: string, score: number }\nexport const FIRST_PHRASE: IState = {\n  'question': 'Hey...I\\'m Greg the Lamp',\n  used: false,\n  'answers': [\n    {\n      'text': 'Hi, Greg',\n      'score': 0\n    },\n    {\n      'text': 'I\\'m not interested',\n      'score': -2\n    },\n    {\n      'text': 'You look sad, Greg, wanna talk?',\n      'score': 3\n    },\n    {\n      'text': 'Wow, talking lamp, lol',\n      'score': -1\n    }\n  ]\n}\n\n\nexport const REST_PHRASES: IState[] = [\n  {\n    'question': 'I feel lonely',\n    used: false,\n    'answers': [\n      {\n        text: 'Hug',\n        'score': 2\n      },\n      {\n        'text': 'Ignore',\n        'score': -2\n      },\n      {\n        'text': 'Everyone\\'s lonely...',\n        'score': -1\n      },\n      {\n        'text': 'I\\'m lonely too',\n        'score': 1\n      }\n    ]\n  }\n]\n","import { useContext } from 'react'\nimport './Buttons.css'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Buttons() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getAnswers, setNextPhrase } = useContext(SpeechContext)\n\n  const clicked = (answerScore: number) => {\n    setScore(score + answerScore)\n    setNextPhrase()\n\n  }\n  return (\n    <div className=\"Buttons\">\n      <div className=\"score\">Score: {score}</div>\n      {\n        getAnswers()\n          .map(\n            a => <div className=\"btn btn--stripe\" key={a.text}\n                      onClick={() => clicked(a.score)}>{a.text}</div>)\n      }\n    </div>\n  )\n}\n\n","import React, { useEffect, useState } from 'react'\n\nexport interface ILoadedContext {\n  soundLoaded?: Function\n  imagesAreLoaded?: Function\n}\n\nexport const LoadedContext = React.createContext<ILoadedContext>({  })\n\nexport function LoadedContextProvider({ children, setAllIsLoaded }: { children: any, setAllIsLoaded: Function }) {\n  const [sound, setSound] = useState(false)\n  const [images, setImages] = useState(false)\n\n  useEffect(() => {\n    setTimeout(setAllIsLoaded(sound && images),1000)\n  }, [sound, images, setAllIsLoaded])\n\n  return (\n    <LoadedContext.Provider value={\n      {\n        soundLoaded: setSound,\n        imagesAreLoaded: setImages,\n      }\n    }>\n      {children}\n    </LoadedContext.Provider>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/lamp.cf80ac2c.png\";","export default __webpack_public_path__ + \"static/media/light.59e00472.png\";","export default __webpack_public_path__ + \"static/media/medium_light.d3ef943c.png\";","export default __webpack_public_path__ + \"static/media/sad_lamp.d083bd5f.png\";","export default __webpack_public_path__ + \"static/media/sad_light.91eb97c4.png\";","import { useContext, useEffect, useState } from 'react'\nimport lamp from './assets/lamp.png'\nimport light from './assets/light.png'\nimport mediumLight from './assets/medium_light.png'\nimport sadLamp from './assets/sad_lamp.png'\nimport sadLight from './assets/sad_light.png'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport './Lamp.css'\n\nconst LAMP_ID = 'lamp'\n\nfunction getRandomBetween(min: number, max: number) {\n  return Math.random() * (max - min) + min\n}\n\nfunction changeColor(timeout: number) {\n  const root = document.getElementById(LAMP_ID)\n\n  setTimeout(() => {\n    root?.style.setProperty('--brightness', getRandomBetween(70, 120) + '%')\n    root?.style.setProperty('--hue', getRandomBetween(0, 180) + 'deg')\n    root?.style.setProperty('--saturate', getRandomBetween(70, 120) + '%')\n    changeColor(getRandomBetween(1000, 10000))\n  }, timeout)\n}\n\nfunction blink() {\n  const root = document.getElementById(LAMP_ID)\n\n  root?.style.setProperty('--opacity', '0%')\n  setTimeout(() => {\n    root?.style.setProperty('--opacity', '100%')\n    setTimeout(() => {\n      blink()\n    }, getRandomBetween(1000, 10000))\n  }, getRandomBetween(100, 200))\n}\n\nexport function Lamp() {\n  changeColor(0)\n  blink()\n\n  const { score } = useContext(ScoreContext)\n  const [showBright, setShowBright] = useState(false)\n  const [showMedium, setShowMedium] = useState(false)\n  const [showSad, setShowSad] = useState(false)\n\n  const { imagesAreLoaded } = useContext(LoadedContext)\n  const [loadedCount, setLoadedCount] = useState(0)\n\n  useEffect(() => {\n    setShowSad(false)\n    setShowMedium(false)\n    setShowBright(false)\n\n    if (score > 2) {\n      setShowBright(true)\n      return\n    }\n    if (score > -1) {\n      setShowMedium(true)\n      return\n    }\n    setShowSad(true)\n\n  }, [score])\n\n  const imgLoaded = () => {\n    setLoadedCount(loadedCount + 1)\n\n    if (loadedCount === 4) {\n      imagesAreLoaded && imagesAreLoaded(true)\n    }\n  }\n\n  return (\n    <div id={LAMP_ID}>\n      <img className=\"img light\" style={{ opacity: showBright ? 1 : 0 }} src={light} onLoad={imgLoaded}/>\n      <img className=\"img light\" style={{ opacity: showMedium ? 1 : 0 }} src={mediumLight} onLoad={imgLoaded}/>\n      <img className=\"img lamp\" style={{ opacity: (showBright || showMedium) ? 1 : 0 }} src={lamp} onLoad={imgLoaded}/>\n\n      <img className=\"img light\" style={{ opacity: showSad ? 1 : 0 }} src={sadLight} onLoad={imgLoaded}/>\n      <img className=\"img lamp\" style={{ opacity: showSad ? 1 : 0 }} src={sadLamp} onLoad={imgLoaded}/>\n    </div>\n  )\n}\n\n","export enum eLampState {\n  happy = 'happy', ok = 'ok', neutral = 'neutral', sad = 'sad', nightmare = 'nightmare'\n}\n\nexport function getStateByScore(score: number): eLampState {\n  if (score > 4.5) {\n    return eLampState.happy\n  }\n  if (score > 2.5) {\n    return (eLampState.ok)\n  }\n\n  if (score > 0) {\n    return (eLampState.neutral)\n  }\n\n  if (score > -2.5) {\n    return (eLampState.sad)\n  }\n\n  return (eLampState.nightmare)\n\n}\n","import { useContext, useEffect, useState } from 'react'\nimport useSound from 'use-sound'\nimport './App.css'\nimport { LoadedContext } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { eLampState, getStateByScore } from './lampState.enum'\n\nconst nightmare = require('./assets/ludum_dare_beta_-5.mp3').default\nconst sad = require('./assets/ludum_dare_beta_-2.5.mp3').default\nconst neutral = require('./assets/ludum_dare_beta_0.mp3').default\nconst ok = require('./assets/ludum_dare_beta_2.5.mp3').default\nconst happy = require('./assets/ludum_dare_beta_5.mp3').default\n\nconst VOLUME = .2\nconst params = { loop: true, soundEnabled: true, volume: 0 }\n\nfunction doSound(currentSound: eLampState | null, soundState: eLampState, howlerObject: any) {\n  if (!howlerObject) {\n    return\n  }\n  if (!howlerObject.playing()) {\n    howlerObject.play()\n  }\n  if (currentSound === soundState) {\n    howlerObject.fade(howlerObject.volume(), VOLUME, 500)\n  } else {\n    howlerObject.fade(howlerObject.volume(), 0, 500)\n  }\n}\n\nexport function Music({ gameStarted }: { gameStarted: boolean }) {\n  const { score } = useContext(ScoreContext)\n  const { soundLoaded } = useContext(LoadedContext)\n\n  const [, { sound: nightmareSound }] = useSound(nightmare, params)\n  const [, { sound: sadSound }] = useSound(sad, params)\n  const [, { sound: neutralSound }] = useSound(neutral, params)\n  const [, { sound: okSound }] = useSound(ok, params)\n  const [, { sound: happySound }] = useSound(happy, params)\n\n  const [currentSound, setCurrentSound] = useState<eLampState | null>(null)\n\n  useEffect(() => {\n\n    if (neutralSound?.state() === 'loaded'\n      && okSound?.state() === 'loaded'\n      && nightmareSound?.state() === 'loaded'\n      && sadSound?.state() === 'loaded'\n      && happySound?.state() === 'loaded'\n    ) {\n      soundLoaded && soundLoaded(true)\n    }\n  }, [soundLoaded, neutralSound, happySound, nightmareSound, sadSound, okSound])\n\n  //useEffect(() => {\n  //\n  //  console.log(score, currentSound, [happySound, okSound, neutralSound, sadSound, nightmareSound].map(s => {\n  //    return (s?.volume() + s?.state())\n  //  }))\n  //}, [currentSound, score,  neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  useEffect(() => {\n    if (!gameStarted) {\n      return\n    }\n\n    if (score > 2.5) {\n      setCurrentSound(getStateByScore(score))\n    }\n  },\n    [score, gameStarted]\n  )\n\n  useEffect(() => {\n    doSound(currentSound, eLampState.neutral, neutralSound)\n    doSound(currentSound, eLampState.nightmare, nightmareSound)\n    doSound(currentSound, eLampState.sad, sadSound)\n    doSound(currentSound, eLampState.ok, okSound)\n    doSound(currentSound, eLampState.happy, happySound)\n  }, [currentSound, neutralSound, happySound, okSound, sadSound, nightmareSound])\n\n  return (\n    <>\n\n    </>\n  )\n}\n\n","import { useContext } from 'react'\nimport { ScoreContext } from './context/score.context'\nimport './Speech.css'\nimport { SpeechContext } from './context/speech.context'\n\nexport function Speech() {\n  const { score, setScore } = useContext(ScoreContext)\n  const { getQuestion } = useContext(SpeechContext)\n\n  return (\n\n    <div className=\"speech-container\">\n      <div className=\"speech\">\n        {getQuestion()}\n      </div>\n    </div>\n  )\n}\n\n","import { useEffect, useState } from 'react'\nimport './App.css'\nimport { Buttons } from './Buttons'\nimport { LoadedContextProvider } from './context/loaded.context'\nimport { ScoreContext } from './context/score.context'\nimport { SpeechContextProvider } from './context/speech.context'\nimport { Lamp } from './Lamp'\nimport { Music } from './Music'\nimport { Speech } from './Speech'\n\nfunction App() {\n\n  const [gameStarted, setGameStarted] = useState(false)\n  const [showControls, setShowControls] = useState(false)\n  const [score, setScore] = useState(0)\n  const [allIsLoaded, setAllIsLoaded] = useState(false)\n\n  useEffect(() => {\n    if (gameStarted) {\n      setShowControls(true)\n    }\n  }, [gameStarted])\n\n  const setGameOver = () => {\n\n  }\n\n  return (\n    <>\n      <LoadedContextProvider setAllIsLoaded={setAllIsLoaded}>\n        <SpeechContextProvider setGameOver={setGameOver}>\n          <ScoreContext.Provider value={{ score, setScore }}>\n            <Music gameStarted={gameStarted}/>\n            {!allIsLoaded && <button className=\"loading-btn btn--stripe btn\">\n              Loading...\n            </button>}\n            <div className=\"Game\" style={{ opacity: allIsLoaded ? 1 : 0 }}>\n              <Lamp/>\n              {showControls && <Speech/>}\n\n              {\n                !gameStarted &&\n                <button className=\"btn--stripe start-btn btn\"\n                        onClick={() => {setGameStarted(true)}}>\n                  Play\n                </button>\n              }\n            </div>\n            {showControls && <Buttons/>}\n          </ScoreContext.Provider>\n        </SpeechContextProvider>\n      </LoadedContextProvider>\n    </>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <link href=\"https://fonts.googleapis.com/css?family=Baloo+2:400,800\" rel=\"stylesheet\"/>\n    <div className=\"light bg\"/>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n//document.getElementById('root').classList.add('light');\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}